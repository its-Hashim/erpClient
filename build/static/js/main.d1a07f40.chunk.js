(this["webpackJsonpreact-the-complete-guide"]=this["webpackJsonpreact-the-complete-guide"]||[]).push([[0],{177:function(e,t,a){"use strict";a.r(t);var c=a(1),n=a(43),s=a.n(n),r=a(14),i=(a(95),a(96),a(98),a(4)),l=a(7),o=a(8),d=a(5),u=a(26),b=Object(u.b)({name:"auth",initialState:{authenticated:!1,user:{}},reducers:{login:function(e,t){e.authenticated=t.payload.authenticated,e.user=t.payload.user},logout:function(e,t){e.authenticated=!1,e.user={}}}}),j=b.reducer,p=b.actions,m=p.login,h=p.logout,O=a(6);function x(){var e=localStorage.getItem("expiration"),t=new Date(e),a=new Date;return t.getTime()-a.getTime()}function f(){var e=localStorage.getItem("token");return e?x()<0?null:e:null}function g(){return v.apply(this,arguments)}function v(){return v=Object(l.a)(Object(i.a)().mark((function e(){var t,a;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==(t=f())){e.next=5;break}return e.abrupt("return",Object(O.p)("/loginApp"));case 5:return e.next=7,fetch("http://nodejs-example-express-rds.eba-wby9pu7m.ap-south-1.elasticbeanstalk.com/getUserData",{headers:{Authorization:"Bearer "+t}}).then(function(){var e=Object(l.a)(Object(i.a)().mark((function e(t){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("OK"==t.statusText){e.next=2;break}throw t;case 2:return e.next=4,t.json();case 4:a=e.sent;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){throw{msg:"No network connection"}}));case 7:return e.abrupt("return",{token:t,userData:a});case 8:case"end":return e.stop()}}),e)}))),v.apply(this,arguments)}var N=a(0);var y=function(e){var t=Object(r.c)((function(e){return{cart:e.cart,auth:e.auth}})),a=(t.cart,t.auth),n=Object(r.b)(),s=(Object(o.n)(),Object(o.k)()),u=s.token,b=s.userData,j=Object(d.d)();Object(c.useEffect)(Object(l.a)(Object(i.a)().mark((function e(){var t;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n(m(b)),t=x(),setTimeout((function(){j(null,{action:"/logout",method:"post"})}),t);case 3:case"end":return e.stop()}}),e)}))),[u,j]);var p=function(){var e=Object(l.a)(Object(i.a)().mark((function e(){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n(h()),j(null,{action:"/logout",method:"post"});case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),O=null;return a.authenticated&&"manager"==b.user.position&&(O="manager"==a.user.position&&Object(N.jsxs)("li",{className:"nav-item d-inline-flex align-items-center dropdown",children:[Object(N.jsx)("a",{className:"nav-link dropdown-toggle text-light",href:"#",id:"managerDropdown",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",children:"Manager"}),Object(N.jsxs)("div",{className:"dropdown-menu","aria-labelledby":"managerDropdown",children:[Object(N.jsx)(d.b,{to:"/clientList",className:"dropdown-item",children:"Clients"}),Object(N.jsx)(d.b,{to:"/salesList",className:"dropdown-item",children:"Sales Account"}),Object(N.jsx)(d.b,{to:"/productItem",className:"dropdown-item",children:"Products"}),Object(N.jsx)(d.b,{to:"/productsCatagory",className:"dropdown-item",children:"Catagories"}),Object(N.jsx)(d.b,{to:"/accounts",className:"dropdown-item",children:"Cash Account"}),Object(N.jsx)(d.b,{to:"/distributor",className:"dropdown-item",children:"Distributors"}),Object(N.jsx)(d.b,{to:"/purchase",className:"dropdown-item",children:"Purchase Account"}),Object(N.jsx)(d.b,{to:"/signUpApp",className:"dropdown-item",children:"Add Member"})]})]})),Object(N.jsxs)(N.Fragment,{children:[Object(N.jsxs)("nav",{className:"navbar navbar-expand-md navbar-dark bg-dark",children:[Object(N.jsx)(d.b,{to:"/",children:Object(N.jsx)("img",{src:"/Images/logo.jpg",height:"40px",alt:"cannot load"})}),Object(N.jsx)("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(N.jsx)("span",{className:"navbar-toggler-icon"})}),Object(N.jsxs)("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent",children:[Object(N.jsxs)("ul",{className:"navbar-nav mr-auto",children:[Object(N.jsx)("div",{style:{width:"20px"}}),Object(N.jsx)("li",{className:"nav-item d-inline-flex align-items-center",children:Object(N.jsx)(d.b,{className:"nav-link text-light",to:"/product/plywood",children:"Plywood"})}),Object(N.jsx)("li",{className:"nav-item d-inline-flex align-items-center",children:Object(N.jsx)(d.b,{className:"nav-link text-light",to:"/product/block_board",children:"Block Board"})}),Object(N.jsx)("li",{className:" d-inline-flex align-items-center",children:Object(N.jsx)(d.b,{className:"nav-link text-light",to:"/product/flush_door",children:"Flush Door"})}),Object(N.jsxs)("li",{className:"nav-item d-inline-flex align-items-center dropdown",children:[Object(N.jsx)("a",{className:"nav-link dropdown-toggle text-light",href:"#",id:"hardware_dropdown",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",children:"Hardware"}),Object(N.jsxs)("div",{className:"dropdown-menu","aria-labelledby":"hardware_dropdown",children:[Object(N.jsx)(d.b,{className:"dropdown-item",to:"/product/door_lock",children:"Door Lock"}),Object(N.jsx)(d.b,{className:"dropdown-item",to:"/product/l_hinges",children:"L-Hinges"}),Object(N.jsx)(d.b,{className:"dropdown-item",to:"/product/cupboard_lock",children:"Cupboard Lock"}),Object(N.jsx)(d.b,{className:"dropdown-item",to:"/product/kitchen_basket",children:"Kitchen Basket"}),Object(N.jsx)(d.b,{className:"dropdown-item",to:"/product/door_handle",children:"Door Handle"}),Object(N.jsx)(d.b,{className:"dropdown-item",to:"/product/cupboard_handle",children:"Cupboard Handle"}),Object(N.jsx)(d.b,{className:"dropdown-item",to:"/product/auto_hinges",children:"Auto Hinges"}),Object(N.jsx)(d.b,{className:"dropdown-item",to:"/product/telescopic_channel",children:"Telescopic Channel"}),Object(N.jsx)(d.b,{className:"dropdown-item",to:"/product/tower_bolt",children:"Tower Bolt"}),Object(N.jsx)(d.b,{className:"dropdown-item",to:"/product/door_stopper",children:"Door Stopper"}),Object(N.jsx)(d.b,{className:"dropdown-item",to:"/product/magnet",children:"Magnet"}),Object(N.jsx)(d.b,{className:"dropdown-item",to:"/product/curtain_socket",children:"Curtain Socket"}),Object(N.jsx)(d.b,{className:"dropdown-item",to:"/product/mortice_lock",children:"Mortice Lock"}),Object(N.jsx)(d.b,{className:"dropdown-item",to:"/product/aldrop",children:"Aldrop"}),Object(N.jsx)(d.b,{className:"dropdown-item",to:"/product/adhesive",children:"Adhesive"}),Object(N.jsx)(d.b,{className:"dropdown-item",to:"/product/hinges",children:"Hinges"}),Object(N.jsx)(d.b,{className:"dropdown-item",to:"/product/masking_tape",children:"Masking Tape"}),Object(N.jsx)(d.b,{className:"dropdown-item",to:"/product/screw",children:"Screw"}),Object(N.jsx)(d.b,{className:"dropdown-item",to:"/product/bed_fitting",children:"Bed Fitting"}),Object(N.jsx)(d.b,{className:"dropdown-item",to:"/product/hydrolic_pump",children:"Pump"}),Object(N.jsx)(d.b,{className:"dropdown-item",to:"/product/khuti",children:"Khuti"}),Object(N.jsx)(d.b,{className:"dropdown-item",to:"/product/shelve_bottom",children:"L-Button"}),Object(N.jsx)(d.b,{className:"dropdown-item",to:"/product/table_bracket",children:"Table Bracket"}),Object(N.jsx)(d.b,{className:"dropdown-item",to:"/product/wheel",children:"Wheel"}),Object(N.jsx)(d.b,{className:"dropdown-item",to:"/product/other_hardware_items",children:"Other Hardware Item"})]})]}),Object(N.jsxs)("li",{className:"nav-item d-inline-flex align-items-center dropdown",children:[Object(N.jsx)("a",{className:"nav-link dropdown-toggle text-light",href:"#",id:"OtherDropdown",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",children:"Others"}),Object(N.jsxs)("div",{className:"dropdown-menu","aria-labelledby":"OtherDropdown",children:[Object(N.jsx)(d.b,{className:"dropdown-item",to:"/product/laminates",children:"Laminates"}),Object(N.jsx)(d.b,{className:"dropdown-item",to:"/product/bit",children:"Bit"})]})]}),Object(N.jsx)("li",{className:"nav-item d-inline-flex align-items-center"}),O]}),Object(N.jsxs)("ul",{className:"navbar-nav",children:[Object(N.jsx)("li",{className:"nav-item",children:Object(N.jsx)("button",{className:"btn btn-dark btn-outline-light btn-sm ",type:"submit",onClick:p,children:"Log Out"})}),Object(N.jsx)("li",{className:"nav-item",children:Object(N.jsx)(d.b,{to:"/settings",children:Object(N.jsx)("button",{className:"ml-2 btn btn-sm btn-light",children:Object(N.jsx)("img",{width:"20px",src:"/Images/settings_icon.png",alt:""})})})})]})]})]}),Object(N.jsx)(o.a,{})]})},_=a(2),w=a(10),k=a(3),S=a(15),C=a.n(S),P=Object(u.b)({name:"cart",initialState:{cart:[],cartNo:1,summery:{tax:0,shipping:0,discount:0,cart_no:1}},reducers:{updateAll:function(e,t){e.cart=t.payload.cart,e.cartNo=t.payload.cartNo,e.summery=t.payload.summery},updateCart:function(e,t){e.cart=t.payload},updateCartNo:function(e,t){e.cartNo=t.payload},updateSummery:function(e,t){e.summery=t.payload}}}),D=P.reducer,L=P.actions,E=L.updateAll,F=L.updateCart,A=(L.updateCartNo,L.updateSummery);function T(){var e=Object(o.n)(),t=Object(c.useState)([]),a=Object(k.a)(t,2),n=a[0],s=a[1],i=Object(c.useState)(""),l=Object(k.a)(i,2),u=l[0],b=l[1],j=Object(r.c)((function(e){return e.cart.cart})),p=Object(r.c)((function(e){return e.cart.cartNo})),m=Object(r.c)((function(e){return e.cart.summery})),h=Object(r.b)(),O=Object(c.useState)(!1),x=Object(k.a)(O,2),f=x[0],g=x[1],v=Object(c.useState)(!1),y=Object(k.a)(v,2),S=y[0],P=y[1],D="http://nodejs-example-express-rds.eba-wby9pu7m.ap-south-1.elasticbeanstalk.com/getProductsReact?"+new URLSearchParams({cart_no:1});Object(c.useEffect)((function(){C.a.get(D).then((function(e){s(e.data.product_list),h(E({cart:e.data.cart,cartNo:e.data.cart_no,summery:e.data.summery}))}))}),[h,D]);var L,T,I=0;j.forEach((function(e){I+=+(e.mrp-e.discount)*e.quantity*e.per_peice_quantity})),T=m.tax?(I+(L=.18*+I)+ +m.shipping-+m.discount).toFixed(2):(I+ +m.shipping-+m.discount).toFixed(2);var R=function(e){var t=e.target.id.split(":")[1],a=Object(w.a)(j),c=Object(_.a)({},j[t]);c.quantity=e.target.value,a[t]=c,h(F(a)),f||g(!0)},q=function(e){var t=e.target.id.split(":")[2],a=Object(w.a)(j),c=Object(_.a)({},j[t]);c.discount=+e.target.value,a[t]=c,h(F(a)),S||P(!0)},U=function(){var e="http://nodejs-example-express-rds.eba-wby9pu7m.ap-south-1.elasticbeanstalk.com/addProductIntoCart/"+u.split(":")[0];C.a.get(e).then((function(e){if(0===e.length)alert("product not found"),b("");else{var t=j.findIndex((function(t,a){return t.product_id===e.data[0][0].product_id})),a=Object(w.a)(j);-1===t?a.unshift(e.data[0][0]):a[t]=e.data[0][0],b(""),h(F(a))}})).catch((function(e){console.log(e),alert("product not found"),b("")}))},B=function(e){var t="http://nodejs-example-express-rds.eba-wby9pu7m.ap-south-1.elasticbeanstalk.com/removeProductFromCart/"+e.target.id;C.a.get(t).then((function(t){if(t.data){var a=Object(w.a)(j),c=j.findIndex((function(t,a){return t.sl_no===Number(e.target.id)}));a.splice(c,1),h(F(a))}else alert("cannot delete item from cart")}))},M=function(e){if(f){var t=e.target.id.split(":")[1];C.a.post("http://nodejs-example-express-rds.eba-wby9pu7m.ap-south-1.elasticbeanstalk.com/upQuan/",{sl_no:j[t].sl_no,quantity:j[t].quantity}).then((function(e){})).catch((function(e){alert("could not update quantity")})),g(!1)}},z=function(e){if(S){var t=e.target.id.split(":")[2];C.a.post("http://nodejs-example-express-rds.eba-wby9pu7m.ap-south-1.elasticbeanstalk.com/upDisc/",{sl_no:j[t].sl_no,discount:j[t].discount}).then((function(e){})).catch((function(e){alert("could not update discount")})),P(!1)}};return Object(N.jsxs)("div",{className:"container-fluid",children:[Object(N.jsxs)("div",{className:"search-area",children:[Object(N.jsx)("div",{className:"search-label",children:Object(N.jsx)("label",{htmlFor:"select_product",children:"Products Name: "})}),Object(N.jsxs)("div",{className:"search-input",children:[Object(N.jsx)("input",{autoFocus:!0,type:"text",className:"form-control",list:"product_list",id:"select_product",name:"product_name",value:u,onKeyDown:function(t){13===t.keyCode&&(""===u?e("/sellCheckout"):U())},onChange:function(e){b(e.target.value)}}),Object(N.jsx)("datalist",{dir:"rtl",id:"product_list",children:n.map((function(e){return Object(N.jsx)("option",{children:"".concat(e.product_id," : ").concat(e.product_name," : Stock=  ").concat(e.stock," ,MRP=\u20b9 ").concat(e.mrp)},e.product_id)}))})]}),Object(N.jsx)("div",{className:"search-button",children:Object(N.jsx)("button",{tabIndex:"-1",className:"btn btn-dark",onClick:U,id:"listButton",children:"Add to cart"})})]}),Object(N.jsx)("form",{action:"",onSubmit:function(e){e.preventDefault(),console.log("form submitted")},method:"",id:"cartForm"}),Object(N.jsxs)("div",{className:"row",children:[Object(N.jsxs)("div",{className:"col-lg-9",children:[Object(N.jsxs)("h3",{className:"display-4",children:["Shopping Cart : ",p]}),Object(N.jsx)("hr",{}),Object(N.jsx)("div",{className:"",children:j.map((function(e,t){return Object(N.jsxs)("div",{children:[Object(N.jsxs)("div",{className:"row mb-1",children:[Object(N.jsx)("div",{className:"col-md-6",children:Object(N.jsxs)("div",{className:"",style:{padding:"0px"},children:[Object(N.jsxs)("p",{className:"mb-0",id:"",children:[Object(N.jsx)("strong",{children:e.product_name}),Object(N.jsx)("button",{id:e.sl_no,onClick:B,className:"btn btn-sm btn-outline-danger mt-auto float-right",tabIndex:"-1",children:"X"})]}),Object(N.jsxs)("p",{className:"price-para mb-0",children:[Object(N.jsx)("span",{className:"price-label",children:"Rate "}),Object(N.jsxs)("span",{className:"price",children:["\u20b9",Object(N.jsx)("span",{id:"".concat(e.product_id,"_mrp"),children:e.mrp}),"/"]}),Object(N.jsx)("span",{className:"price-label",children:e.unit})]}),Object(N.jsx)("p",{className:"mb-0",children:Object(N.jsxs)("span",{className:"stock-label",children:["In Stock ",e.stock]})})]})}),Object(N.jsxs)("div",{className:"col",children:[Object(N.jsx)("input",{className:"quantity_input",form:"cartForm",onChange:R,onBlur:M,type:"number",name:"quantity_".concat(e.product_id),id:"".concat(e.product_id,":").concat(t),style:{width:"70px"},value:e.quantity,step:"any"}),Object(N.jsxs)("p",{className:"font-weight-light mb-0",style:{fontSize:"small"},children:[Object(N.jsx)("span",{hidden:!0,id:"".concat(e.product_id,"_totalQuantity"),children:e.per_peice_quantity}),Object(N.jsx)("span",{id:"totalQuantity_".concat(e.product_id),children:(e.quantity*e.per_peice_quantity).toFixed(3)})," "+e.unit]})]}),Object(N.jsxs)("div",{className:"col text-right",children:[Object(N.jsx)("input",{placeholder:"Disc",className:"discount_input",form:"cartForm",type:"number",style:{width:"70px"},name:"discount_".concat(e.product_id),id:"discount:".concat(e.product_id,":").concat(t),onChange:q,onBlur:z,value:e.discount,step:"any"}),Object(N.jsx)("span",{hidden:!0,id:"cp_".concat(e.product_id),children:e.cp}),Object(N.jsxs)("p",{id:"discount%",className:"font-weight-light d-none",style:{fontSize:"small"},children:["E2.G",Object(N.jsx)("span",{id:"profit_".concat(e.product_id),children:((e.mrp-e.discount-e.cp)/(e.cp+.01)*100).toFixed(1)})]})]}),Object(N.jsxs)("div",{className:"col text-right",children:[Object(N.jsx)("span",{className:"text-danger font-weight-bold",children:"\u20b9 "}),Object(N.jsx)("span",{id:"".concat(e.product_id,"_netPrice"),children:e.mrp-e.discount})]}),Object(N.jsxs)("div",{className:"col text-right",children:[Object(N.jsx)("span",{className:"text-danger font-weight-bold",children:"\u20b9 "}),Object(N.jsx)("span",{className:"amount",id:"".concat(e.product_id,"_amount"),children:((e.mrp-e.discount)*e.quantity*e.per_peice_quantity).toFixed(2)})]})]}),Object(N.jsx)("hr",{className:""})]},e.product_id)}))}),Object(N.jsx)("input",{className:"btn btn-danger btn-sm",id:p,onClick:function(){alert("Do you want to clear the currnt cart?");var e="http://nodejs-example-express-rds.eba-wby9pu7m.ap-south-1.elasticbeanstalk.com/clearCart/"+p;C.a.delete(e).then((function(e){h(F([]))})).catch((function(e){alert("could not clear cart")}))},value:"Clear Cart",type:"button"}),Object(N.jsx)("br",{}),Object(N.jsx)("br",{}),Object(N.jsx)("hr",{className:"mt-0"})]}),Object(N.jsxs)("div",{className:"col-lg-3",children:[Object(N.jsx)("h3",{className:"display-4",children:"Summery"}),Object(N.jsx)("hr",{}),Object(N.jsxs)("div",{className:"border border-dark ",style:{padding:"0.9rem"},children:[Object(N.jsxs)("h6",{children:["Subtotal (2)"," ",Object(N.jsxs)("span",{className:"text-danger float-right",children:["\u20b9 ",Object(N.jsx)("span",{id:"subtotal",children:I})]})]}),Object(N.jsxs)("p",{children:[Object(N.jsx)("input",{checked:m.tax,form:"cartForm",type:"checkbox",name:"taxCheck",onChange:function(e){var t=Object(_.a)({},m);t.tax=!m.tax;C.a.post("http://nodejs-example-express-rds.eba-wby9pu7m.ap-south-1.elasticbeanstalk.com/upTax/",{cart_no:p,tax:t.tax}).then((function(e){e.data||alert("Could Not Update tax.")})).catch((function(e){alert("could not update tax")})),h(A(t))},id:"taxCheck"}),"Tax",Object(N.jsxs)("span",{className:"float-right",children:["\u20b9",Object(N.jsx)("span",{id:"tax",children:L?L.toFixed(2):0})]})]}),Object(N.jsxs)("p",{children:["Shipping",Object(N.jsxs)("span",{className:"float-right",children:["\u20b9",Object(N.jsx)("input",{form:"cartForm",className:"cart-input-width",type:"number",style:{border:"none",outline:"none",borderBottom:"1px solid black"},name:"shippingCost",id:"shippingCost",onChange:function(e){var t=Object(_.a)({},m);t.shipping=e.target.value,h(A(t))},onBlur:function(){C.a.post("http://nodejs-example-express-rds.eba-wby9pu7m.ap-south-1.elasticbeanstalk.com/upShip/",{cart_no:p,shipping:m.shipping}).then((function(e){})).catch((function(e){alert("could not update shipping")}))},value:m.shipping})]})]}),Object(N.jsxs)("p",{children:["Discount",Object(N.jsxs)("span",{className:"float-right",children:["\u20b9",Object(N.jsx)("input",{form:"cartForm",style:{border:"none",outline:"none",borderBottom:"1px solid black"},className:"cart-input-width",type:"number",name:"summury_discount",id:"discount",value:m.discount,onChange:function(e){var t=Object(_.a)({},m);t.discount=e.target.value,h(A(t))},onBlur:function(e){C.a.post("http://nodejs-example-express-rds.eba-wby9pu7m.ap-south-1.elasticbeanstalk.com/upSummeryDisc/",{cart_no:p,discount:m.discount}).then((function(e){})).catch((function(e){alert("could not update discount")}))}})]})]}),Object(N.jsxs)("h4",{children:["Total"," ",Object(N.jsxs)("span",{className:"text-danger float-right",children:["\u20b9 ",Object(N.jsx)("span",{id:"estimatedTotal",children:T})]})]})]}),Object(N.jsx)("br",{}),Object(N.jsx)("input",{type:"hidden",name:"cart_no",form:"cartForm",value:p}),Object(N.jsx)("button",{hidden:!0,type:"submit",form:"cartForm",formAction:"/cart/save",formMethod:"POST",className:"btn btn-dark btn-lg btn-block"}),Object(N.jsx)(d.b,{to:"/sellCheckout",children:Object(N.jsx)("button",{form:"cartForm",formAction:"/cart/sell",formMethod:"POST",id:"sell_button",className:"btn btn-danger btn-lg btn-block",children:"Proceed to Sell"})}),Object(N.jsx)(d.b,{to:"/purchaseCheckout",children:Object(N.jsx)("button",{form:"cartForm",formAction:"/cart/sell",formMethod:"POST",id:"sell_button",className:"btn btn-dark btn-lg btn-block",children:"Proceed to Purchase"})})]})]})]})}var I=function(e){return Object(N.jsxs)(N.Fragment,{children:[e.label&&Object(N.jsx)("label",{htmlFor:e.id,children:e.label}),Object(N.jsx)("input",{disabled:e.disabled,ref:e.ref,type:e.type,className:"form-control d-inp1",value:e.value,onChange:e.onChange,list:e.datalist?e.name:"",id:e.id,placeholder:e.placeholder,name:e.name,required:e.required,autoFocus:e.focus,onBlur:e.onBlur}),Object(N.jsx)("datalist",{dir:"rtl",id:e.name,children:e.datalist}),Object(N.jsx)("small",{id:"emailHelp",className:"form-text text-muted",children:e.msg}),Object(N.jsx)("div",{style:{color:"red",fontSize:"14px"},children:e.error})]})};var R=function(e){return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)("label",{htmlFor:e.id,children:e.label}),Object(N.jsxs)("div",{className:"input-group",children:[Object(N.jsx)("div",{className:"input-group-prepend",children:Object(N.jsx)("span",{className:"input-group-text",id:"basic-addon1",children:e.prepend})}),Object(N.jsx)("input",{disabled:e.disabled,ref:e.ref,type:e.type,className:"form-control d-inp1",value:e.value,onChange:e.onChange,list:e.datalist?e.name:"",id:e.id,placeholder:e.placeholder,name:e.name,required:e.required,autoFocus:e.focus,onBlur:e.onBlur})]}),Object(N.jsx)("datalist",{dir:"rtl",id:e.name,children:e.datalist}),Object(N.jsx)("small",{id:"emailHelp",className:"form-text text-muted",children:e.msg}),Object(N.jsx)("div",{style:{color:"red",fontSize:"14px"},children:e.error})]})};var q=function(e){var t=e.cart,a=e.cartNo,c=e.subtotal,n=e.tax,s=e.summery,r=e.total;return Object(N.jsxs)("div",{className:"row",children:[Object(N.jsxs)("div",{className:"col-lg-9",children:[Object(N.jsxs)("h3",{className:"display-4",children:["Checkout Cart : ",a]}),Object(N.jsx)("hr",{}),Object(N.jsx)("div",{children:t.map((function(e,t){return Object(N.jsxs)("div",{children:[Object(N.jsxs)("div",{className:"row mb-1",children:[Object(N.jsx)("div",{className:"col-md-6",children:Object(N.jsx)("div",{className:"",style:{padding:"0px"},children:Object(N.jsx)("div",{children:Object(N.jsxs)("p",{className:"mb-0",id:"",children:[e.product_id," :",e.product_name]})})})}),Object(N.jsx)("div",{className:"col",children:Object(N.jsxs)("span",{children:[e.quantity,Object(N.jsxs)("span",{className:"font-weight-light",style:{fontSize:"small",marginBottom:"0"},children:[Object(N.jsx)("span",{hidden:!0,id:"{element.product_id}_totalQuantity",children:e.per_peice_quantity}),"(",Object(N.jsx)("span",{id:"totalQuantity_{ element.product_id }",children:e.quantity*e.per_peice_quantity}),e.unit,")"]})]})}),Object(N.jsx)("div",{className:"col text-right",children:Object(N.jsxs)("p",{className:"price-para mb-0",children:[Object(N.jsxs)("span",{className:"price",children:["\u20b9",Object(N.jsx)("span",{id:"{element.product_id}_mrp",children:e.mrp})," "]}),Object(N.jsxs)("span",{className:"price-label",children:[" per ",e.unit," "]})]})}),Object(N.jsx)("div",{className:"col text-right",children:e.discount}),Object(N.jsxs)("div",{className:"col text-right",children:[Object(N.jsx)("span",{className:"text-danger font-weight-bold",children:"\u20b9 "}),Object(N.jsx)("span",{id:"{ element.product_id }_netPrice",children:e.mrp-e.discount})]}),Object(N.jsxs)("div",{className:"col text-right",children:[Object(N.jsx)("span",{className:"text-danger font-weight-bold",children:"\u20b9 "}),Object(N.jsx)("span",{className:"amount",id:"{ element.product_id }_amount",children:((e.mrp-e.discount)*e.quantity*e.per_peice_quantity).toFixed(2)})]})]},e.product_id),Object(N.jsx)("hr",{className:""})]},t)}))}),Object(N.jsx)("hr",{className:"mt-0"})]}),Object(N.jsxs)("div",{className:"col-lg-3",children:[Object(N.jsx)("h3",{className:"display-4",children:"Summery"}),Object(N.jsx)("hr",{}),Object(N.jsxs)("div",{className:"border border-dark ",style:{padding:"0.9rem"},children:[Object(N.jsxs)("h6",{children:["Subtotal (2)"," ",Object(N.jsxs)("span",{className:"text-danger float-right",children:["\u20b9 ",Object(N.jsx)("span",{id:"subtotal",children:c})]})]}),Object(N.jsxs)("p",{children:["Tax",Object(N.jsxs)("span",{className:"float-right",children:["\u20b9 ",Object(N.jsx)("span",{id:"tax",children:n})]})]}),Object(N.jsxs)("p",{children:["Shipping",Object(N.jsxs)("span",{className:"float-right",children:["\u20b9 ",Object(N.jsx)("span",{id:"shippingCost",children:s.shipping})]})]}),Object(N.jsxs)("p",{children:["Discount",Object(N.jsxs)("span",{className:"float-right",children:["\u20b9 ",Object(N.jsx)("span",{id:"discount",children:s.discount})]})]}),Object(N.jsxs)("h4",{children:["Total"," ",Object(N.jsxs)("span",{className:"text-danger float-right",children:["\u20b9 ",Object(N.jsx)("span",{id:"estimatedTotal",children:r})]})]})]}),Object(N.jsx)("br",{})]})]})};var U=function(){var e=Object(o.n)(),t=Object(c.useState)([]),a=Object(k.a)(t,2),n=a[0],s=a[1],i=Object(c.useState)({}),l=Object(k.a)(i,2),d=l[0],u=l[1],b=Object(c.useState)([]),j=Object(k.a)(b,2),p=j[0],m=j[1],h=Object(c.useState)(0),O=Object(k.a)(h,2),x=O[0],f=O[1],g=Object(c.useState)(0),v=Object(k.a)(g,2),y=v[0],_=v[1],w=Object(c.useState)(0),S=Object(k.a)(w,2),P=S[0],D=S[1],L=Object(c.useState)(""),E=Object(k.a)(L,2),F=E[0],A=E[1],T=Object(c.useState)(""),U=Object(k.a)(T,2),B=U[0],M=U[1],z=Object(c.useState)(""),G=Object(k.a)(z,2),H=G[0],V=G[1],W=Object(c.useState)(""),Q=Object(k.a)(W,2),J=Q[0],Z=Q[1],K=Object(c.useState)(""),Y=Object(k.a)(K,2),X=Y[0],$=Y[1],ee=Object(c.useState)("West Bengal"),te=Object(k.a)(ee,2),ae=te[0],ce=te[1],ne=Object(c.useState)("India"),se=Object(k.a)(ne,2),re=se[0],ie=se[1],le=Object(c.useState)(""),oe=Object(k.a)(le,2),de=oe[0],ue=oe[1],be=Object(c.useState)(""),je=Object(k.a)(be,2),pe=je[0],me=je[1],he=Object(c.useState)(""),Oe=Object(k.a)(he,2),xe=Oe[0],fe=Oe[1],ge=Object(c.useState)(""),ve=Object(k.a)(ge,2),Ne=ve[0],ye=ve[1],_e=Object(c.useState)(!1),we=Object(k.a)(_e,2),ke=we[0],Se=we[1],Ce=Object(r.c)((function(e){return e.cart.cartNo})),Pe=new Date,De=Pe.getMonth()+1,Le="";Le=De<10?"0"+De:De;var Ee=String(Pe.getDate()).padStart(2,"0"),Fe=Pe.getFullYear()+"-"+Le+"-"+Ee,Ae=Object(c.useState)(Fe),Te=Object(k.a)(Ae,2),Ie=Te[0],Re=Te[1],qe=Object(c.useState)(Fe),Ue=Object(k.a)(qe,2),Be=Ue[0],Me=Ue[1],ze=Object(c.useState)(""),Ge=Object(k.a)(ze,2),He=Ge[0],Ve=Ge[1],We=Object(c.useState)(""),Qe=Object(k.a)(We,2),Je=Qe[0],Ze=Qe[1],Ke=Object(c.useState)(""),Ye=Object(k.a)(Ke,2),Xe=Ye[0],$e=Ye[1],et=Object(c.useState)(""),tt=Object(k.a)(et,2),at=tt[0],ct=tt[1],nt=Object(c.useState)(""),st=Object(k.a)(nt,2),rt=st[0],it=st[1],lt=Object(c.useState)(""),ot=Object(k.a)(lt,2),dt=ot[0],ut=ot[1],bt=Object(c.useState)(""),jt=Object(k.a)(bt,2),pt=jt[0],mt=jt[1],ht=Object(c.useState)(""),Ot=Object(k.a)(ht,2),xt=Ot[0],ft=Ot[1],gt="http://nodejs-example-express-rds.eba-wby9pu7m.ap-south-1.elasticbeanstalk.com";Object(c.useEffect)((function(){var e=gt+"/checkOutSell?"+new URLSearchParams({cartNo:Ce});C.a.get(e).then((function(e){s(e.data.cart),u(e.data.summery),m(e.data.clients);var t=0;e.data.cart.forEach((function(e){t+=+((e.mrp-e.discount)*e.quantity*e.per_peice_quantity).toFixed(2)}));var a=0;e.data.summery.tax&&(a=+(.18*t).toFixed(2));var c=a+t+e.data.summery.shipping-e.data.summery.discount;f(t),_(a),D(c)})).catch((function(e){alert(e)}))}),[Ce]);var vt=function(t){if(t.preventDefault(),t.stopPropagation(),!ke){if(10!==F.toString().length)return void Ve("Mobile number is invalid");if(null===B||""===B)return void Ze("invalid name");if(null===H||""===H)return void $e("invalid adderes");if(null===X||""===X)return void ct("invalid city");if(null===ae||""===ae)return void it("invalid state");if(null===re||""===re)return void ut("invalid country");if(null===de||0===de)return void mt("invalid zip")}if(null!==Ne&&void 0!==Ne&&""!==Ne){fetch("http://nodejs-example-express-rds.eba-wby9pu7m.ap-south-1.elasticbeanstalk.com/MAKE_SALE",{method:"POST",body:JSON.stringify({cartNo:Ce,mobile:F,name:B,add1:H,add2:J,city:X,state:ae,country:re,zip:de,paymentAmount:Ne,dueDate:Ie,date:Be}),headers:{"Content-type":"application/json; charset=UTF-8"}}).then((function(e){return e.json()})).then((function(t){console.log(t),e("/salesList/bill/print/"+t.saleId)}))}else ft("invalid payment amount")};return Object(N.jsxs)("div",{className:"container",children:[Object(N.jsx)(q,{cart:n,cartNo:Ce,subtotal:x,tax:y,summery:d,total:P}),Object(N.jsx)("hr",{}),Object(N.jsxs)("div",{className:"formWrap",children:[Object(N.jsx)("div",{className:"spinner displayNone",children:Object(N.jsx)("div",{className:"spinner-border",role:"status",children:Object(N.jsx)("span",{className:"sr-only",children:"Loading..."})})}),Object(N.jsx)("div",{id:"formDiv",children:Object(N.jsxs)("form",{onSubmit:vt,id:"myForm",className:"needs-validation",noValidate:!0,children:[Object(N.jsxs)("div",{className:"form-row",children:[Object(N.jsx)("div",{className:"form-group col-md-6",children:Object(N.jsx)(R,{prepend:"91",id:"inputNumber",label:"Mobile",type:"number",name:"mobile",value:F,placeholder:"9876543210",onChange:function(e){return A(e.target.value)},onBlur:function(e){var t=e.target.value;if(0!==Number(t)&&10===t.toString().length){Ve("");var a=!1;p.forEach((function(e,c){e.mobile_no===t&&(a=!0,M(e.name),fetch("http://nodejs-example-express-rds.eba-wby9pu7m.ap-south-1.elasticbeanstalk.com/getClientDue?cartNo="+e.client_id).then((function(e){if(e.ok)return e.json();throw new Error("Something went wrong")})).then((function(t){e.previous_due=t.due,console.log(t),me(t.due),fe(Number(e.previous_due)+Number(P)),Se(!0)})).catch((function(e){throw new Error(e)}))),!1===a&&c===p.length-1&&(me(0),fe(Number(P)),Se(!1))}))}else Ve("Mobile number is invalid"),Se(!1)},error:He,required:!0,focus:!0,datalist:p.map((function(e){return Object(N.jsx)("option",{name:e.client_id,children:e.mobile_no},e.client_id)}))})}),Object(N.jsx)("div",{className:"form-group col-md-6",children:Object(N.jsx)(I,{disabled:ke,id:"inputName",label:"Client Name",type:"text",name:"name",value:B,placeholder:"Sk Imran",onChange:function(e){M(e.target.value),Ze("")},error:Je,msg:"Make sure to input full name.",required:!0})})]}),Object(N.jsx)("div",{className:"address",children:Object(N.jsxs)("div",{id:"address-section",children:[Object(N.jsx)("div",{className:"form-group",children:Object(N.jsx)(I,{label:"Address Line 1",disabled:ke,type:"text",value:H,onChange:function(e){V(e.target.value),$e("")},id:"inputAddress",placeholder:"Enter customer address",name:"address_line_1",required:!0,error:Xe})}),Object(N.jsx)("div",{className:"form-group",children:Object(N.jsx)(I,{label:"Address Line 2",disabled:ke,type:"text",value:J,onChange:function(e){return Z(e.target.value)},id:"inputAddress2",placeholder:"Enter customer address line 2",name:"address_line_2"})}),Object(N.jsxs)("div",{className:"form-row",children:[Object(N.jsx)("div",{className:"form-group col-md-4",children:Object(N.jsx)(I,{label:"City",disabled:ke,type:"text",value:X,onChange:function(e){$(e.target.value),ct("")},id:"inputCity",placeholder:"Enter customer city",name:"city_or_district",required:!0,error:at})}),Object(N.jsx)("div",{className:"form-group col-md-4",children:Object(N.jsx)(I,{label:"State",disabled:ke,type:"text",value:ae,onChange:function(e){ce(e.target.value),it("")},id:"inputState",placeholder:"Enter customer state",name:"state",required:!0,error:rt})}),Object(N.jsx)("div",{className:"form-group col-md-2",children:Object(N.jsx)(I,{label:"Country",disabled:ke,type:"text",value:re,onChange:function(e){ie(e.target.value),ut("")},id:"inputCountry",placeholder:"Enter customer country",name:"country",required:!0,error:dt})}),Object(N.jsx)("div",{className:"form-group col-md-2",children:Object(N.jsx)(I,{label:"Zip",disabled:ke,type:"number",value:de,onChange:function(e){ue(e.target.value),mt("")},id:"inputZip",placeholder:"Enter customer zip",name:"postal_code",required:!0,error:pt})})]})]})}),Object(N.jsxs)("div",{className:"form-row",children:[Object(N.jsxs)("div",{className:"form-group row col-md-6",children:[Object(N.jsx)("label",{htmlFor:"dues",className:"col-sm-3 col-form-label",children:"Dues:"}),Object(N.jsx)("div",{className:"col-sm-9",children:Object(N.jsxs)("span",{className:"text-danger",children:["\u20b9",Object(N.jsx)("span",{id:"dues",children:pe})]})})]}),Object(N.jsxs)("div",{className:"form-group row col-md-6",children:[Object(N.jsx)("label",{htmlFor:"payble-amount",className:"col-sm-4 col-form-label",children:"Payble Amount:"}),Object(N.jsx)("div",{className:"col-sm-8",children:Object(N.jsxs)("span",{className:"text-danger",children:["\u20b9",Object(N.jsx)("span",{id:"payble-amount",children:xe})]})})]})]}),Object(N.jsxs)("div",{className:"form-row",children:[Object(N.jsxs)("div",{className:"form-group row col-md-4",children:[Object(N.jsx)("label",{htmlFor:"paid",className:"col-sm-5 col-form-label",children:"Payment Amount:"}),Object(N.jsx)("div",{className:"col-sm-7",children:Object(N.jsx)(I,{type:"number",value:Ne,onChange:function(e){ye(e.target.value),ft("")},id:"paid",name:"paid",required:!0,error:xt,step:"any"})})]}),Object(N.jsxs)("div",{className:"form-group row col-md-4",children:[Object(N.jsx)("div",{className:"col-sm-5 col-form-label",children:Object(N.jsx)("div",{style:{float:"right"},children:Object(N.jsx)("label",{htmlFor:"due-date",children:"Due Date:"})})}),Object(N.jsx)("div",{className:"col-sm-7",children:Object(N.jsx)("input",{value:Ie,onChange:function(e){return Re(e.target.value)},type:"date",id:"due-date",className:"form-control",name:"Due Date",required:!0})})]}),Object(N.jsxs)("div",{className:"form-group row col-md-4",children:[Object(N.jsx)("div",{className:"col-sm-5 col-form-label",children:Object(N.jsx)("div",{style:{float:"right"},children:Object(N.jsx)("label",{htmlFor:"date",children:"Date:"})})}),Object(N.jsx)("div",{className:"col-sm-7",children:Object(N.jsx)("input",{value:Be,onChange:function(e){return Me(e.target.value)},type:"date",id:"date",className:"form-control",name:"date",required:!0})})]})]}),Object(N.jsx)("button",{type:"submit",className:"btn btn-success add-button submitButton",onClick:vt,children:"Sell"})]})})]})]})},B=a(20),M=a(84),z=a.n(M);var G=function(e){var t=Object(r.c)((function(e){return e.cart.cartNo})),a=Object(o.n)(),n=Object(c.useState)(null),s=Object(k.a)(n,2),d=s[0],u=s[1],b=Object(c.useState)(),j=Object(k.a)(b,2),p=j[0],m=j[1],h=Object(c.useState)(),O=Object(k.a)(h,2),x=O[0],f=O[1],g=Object(o.p)(),v=g.id,y=g.prints;function _(e){var t=e.soldProducts,a=e.saleDetails,c=e.previousDue,n=e.subtotal,s=new B.b("p","mm",[210,148]),r=n+c+a.shipping-a.summery_discount;1===a.tax&&(r=Number(r)+Number(Number(.18*n).toFixed(1)));var i=new Image;i.src="/assets/logo.jpg";var l=70,o=165,d=160;function u(){s.addImage(i,"jpeg",7,7,37,19),s.setFont("helvetica"),s.setFontSize(9),s.setFont(void 0,"bold"),s.setTextColor(0,0,0),s.text(a.name,7,40),s.text("Royal Plywood",51,9),s.setFont(void 0,"normal"),s.text("NH6, Panskura, Purba Mednapur",51,13),s.text("West Bengal, 721139",51,17),s.text("+91 8013787177",51,21),s.text("+91 9432971771",51,25),s.text("skhasemali49@gmail.com",51,29),s.text("Bill To:",7,36),s.text(String(a.address_line_1),7,44),s.text(a.city_or_district+", "+a.state+", "+a.postal_code,7,48),s.text(String(a.mobile_no),7,52),s.text("# "+String(a.sale_id),141,17,"right"),s.text(new Date(a.date).getDate()+"/"+(new Date(a.date).getMonth()+1)+"/"+new Date(a.date).getFullYear(),141,21,"right"),s.setFontSize(12),s.text("Amount:",110,36,"right"),s.text("Rs. "+r,141,36,"right"),s.text("Paid:",110,41.5,"right"),s.text("Rs. "+a.paid,141,41.5,"right"),s.text("Totol Due:",110,47,"right"),s.text("Rs. "+Math.round(r-a.paid),141,47,"right"),s.text("Due Date:",110,52.5,"right"),s.text(new Date(a.due_date).getDate()+"/"+(new Date(a.due_date).getMonth()+1)+"/"+new Date(a.due_date).getFullYear(),141,52.5,"right"),s.setTextColor(0,0,0),s.setFontSize(20),s.text("INVOICE",141,12,"right"),s.setFontSize(10),s.text("ID",7,61.5),s.text("Description",17,61.5),s.text("Quan.",75,61.5),s.text("Rate",88,61.5),s.text("Disc",100,61.5),s.text("Price",124,61.5,"right"),s.text("Amount",141,61.5,"right"),s.setDrawColor(10,10,10),s.setLineWidth(.2),s.line(7,56.5,141,56.5),s.line(7,64,141,64),s.line(7,o,141,o)}1===a.tax&&(o=160,d=155),u(),t.forEach((function(e){s.setFont("courier"),s.setFontSize(9),s.text(String(e.product_id),7,l),s.setFontSize(10);var t=s.splitTextToSize(String(e.product_name),50);s.text(17,l,t),s.text(String(e.quantity),75,l),s.text(String(e.rate),88,l),s.text(String(e.disc),100,l),s.text(String(e.price),124,l,"right"),s.text(String(e.amount),141,l,"right"),s.setFont("helvetica"),(l+=5*t.length)>d&&(s.text("Continued...",17,o+25),s.addPage(),u(),l=70)})),s.setFontSize(10),console.log(a.tax),1===a.tax?(s.text("Subtotal",110,o+7,"right"),s.text("Rs. "+String(n),113,o+7),s.text("Tax",110,o+12,"right"),s.text("Rs. "+String((.18*n).toFixed(1)),113,o+12),o+=5):(s.text("Subtotal",110,o+7,"right"),s.text("Rs. "+String(n),113,o+7)),s.text("Shipping",110,o+12,"right"),s.text("Rs. "+String(a.shipping),113,o+12),s.text("Discount",110,o+17,"right"),s.text("Rs. "+String(a.summery_discount),113,o+17),s.text("Previous Due",110,o+22,"right"),s.text("Rs. "+String(c),113,o+22),s.line(87,o+25,141,o+25),s.line(7,o+25,61,o+25),s.text("Rs. "+String(r),113,o+31),s.text("Authorized Signature",34,o+31,"center"),s.setFontSize(14),s.text("Total",110,o+31,"right");var b=s.internal.getNumberOfPages();s.setFontSize(8);for(var j=1;j<=b;j++)s.setPage(j),s.text("Page "+j+" of "+b,74,196,"center");return s}return Object(c.useEffect)((function(){var e=function(){var e=Object(l.a)(Object(i.a)().mark((function e(){var t,a,c;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://nodejs-example-express-rds.eba-wby9pu7m.ap-south-1.elasticbeanstalk.com/getBillDetails?"+new URLSearchParams({id:v}));case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,c=_(a),f(a.saleDetails.sale_id),m(c),"print"===y&&c.autoPrint(),u(c.output("datauristring"));case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();try{e()}catch(t){alert("unable to load data")}}),[v]),Object(N.jsx)(N.Fragment,{children:Object(N.jsxs)("div",{className:z.a.parent,children:[Object(N.jsx)("iframe",{src:d,title:"bill",name:"billpdf",id:"billpdf"}),Object(N.jsxs)("div",{children:[Object(N.jsx)("button",{type:"button",onClick:function(){p.autoPrint(),u(p.output("datauristring"))},className:"btn btn-danger btn-lg btn-block",children:"Print"}),Object(N.jsx)("button",{type:"button",onClick:function(){p.save("Invoice_saleID.pdf")},className:"btn btn-secondary btn-lg btn-block",children:"Download"}),Object(N.jsx)("button",{type:"button",onClick:function(){var e=function(){var e=Object(l.a)(Object(i.a)().mark((function e(){var c,n;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://nodejs-example-express-rds.eba-wby9pu7m.ap-south-1.elasticbeanstalk.com/fillCartFromBill?"+new URLSearchParams({cartNo:t,saleId:x}));case 2:return c=e.sent,e.next=5,c.json();case 5:(n=e.sent).success?a("/"):alert("Unable to fill cart please contact support"+n.err);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();try{e()}catch(c){alert("unable to move contact support")}},className:"btn btn-secondary btn-lg btn-block",children:"Move to Cart"})]})]})})},H=a(28),V=a.n(H);var W=function(e){var t=Object(o.n)(),a=Object(c.useState)(0),n=Object(k.a)(a,2),s=n[0],r=n[1];return Object(N.jsx)("div",{id:"page-content-wrapper",children:Object(N.jsxs)("div",{className:"container-fluid",children:[Object(N.jsxs)("div",{className:"card",children:[Object(N.jsxs)("div",{className:"card-header",children:[Object(N.jsxs)("div",{className:V.a.cardHeader,children:[Object(N.jsx)("div",{children:Object(N.jsx)("div",{children:Object(N.jsx)("p",{className:"display-4 card-heading",children:e.title})})}),Object(N.jsx)("div",{children:e.headerItems&&e.headerItems})]}),e.filterItems&&Object(N.jsx)("div",{style:{marginTop:"15px"},children:e.filterItems&&e.filterItems})]}),Object(N.jsxs)("table",{className:"table table-striped table-hover",children:[Object(N.jsx)("thead",{className:"thead-dark",children:Object(N.jsx)("tr",{children:e.thData.map((function(e,t){return Object(N.jsx)("th",{scope:"col",children:e},t)}))})}),Object(N.jsx)("tbody",{children:e.trData.map((function(a,c){return Object(N.jsx)("tr",{onClick:function(c){!function(a,c){e.rowURL&&(null!=a.id&&null==a.hide_url?t(e.rowURL+a.id):null!=a.hide_url&&t(e.rowURL+a.hide_url))}(a)},children:Object.entries(a).map((function(e,t){return"hide"!==e[0].split("_")[0]?0===t?Object(N.jsx)("th",{scope:"row",children:e[1]},"".concat(e[0]).concat(c).concat(e[1])):Object(N.jsx)("td",{children:e[1]},"".concat(e[0]).concat(c).concat(e[1])):Object(N.jsx)(N.Fragment,{})}))},c)}))})]})]}),Object(N.jsxs)("div",{className:"card-footer d-flex justify-content-between align-items-center",children:[Object(N.jsxs)("div",{className:"form-inline",children:[Object(N.jsx)("button",{className:"btn btn-outline-dark font-weight-bold ",disabled:0===e.pageNo,onClick:function(t){e.dispatch({type:"DECREMENT_PAGENO"})},children:"Prev"}),Object(N.jsxs)("span",{style:{margin:"20px"},children:["Showing ",Number(e.pageNo)+1," of ",e.noOfPages]}),Object(N.jsx)("button",{className:"btn btn-outline-dark font-weight-bold ",disabled:!(e.pageNo<e.noOfPages-1),onClick:function(){e.dispatch({type:"INCREMENT_PAGENO"})},children:"Next"}),Object(N.jsx)("label",{style:{marginLeft:"50px"},htmlFor:"",children:"Goto:"}),Object(N.jsx)("input",{className:"form-control mb-2 mr-sm-2",style:{margin:"10px",maxWidth:"70px"},type:"number",min:"1",value:s,onKeyDown:function(t){13===t.keyCode&&e.dispatch({type:"UPDATE_PAGENO",value:s})},onChange:function(e){r(e.target.value)}}),Object(N.jsx)("button",{className:"btn btn-outline-dark font-weight-bold ",type:"submit",onSubmit:function(t){e.dispatch({type:"UPDATE_PAGENO",value:s})},children:"Go"})]}),Object(N.jsx)("div",{children:e.footerAction&&e.footerAction})]})]})})};var Q=function(){var e=Object(c.useReducer)((function(e,t){switch(t.type){case"UPDATE_PERIOD":return Object(_.a)(Object(_.a)({},e),{},{period:t.value});case"UPDATE_PAGENO":return t.value<=e.noOfPages&&t.value>=1?Object(_.a)(Object(_.a)({},e),{},{pageNo:Number(t.value)-1}):Object(_.a)({},e);case"INCREMENT_PAGENO":return Object(_.a)(Object(_.a)({},e),{},{pageNo:++e.pageNo});case"DECREMENT_PAGENO":return Object(_.a)(Object(_.a)({},e),{},{pageNo:--e.pageNo});case"UPDATE_SALES_LIST":return Object(_.a)(Object(_.a)({},e),{},{salesList:t.value.salesList,noOfPages:t.value.noOfPages});default:return e}}),{pageNo:0,salesList:[],noOfPages:0}),t=Object(k.a)(e,2),a=t[0],n=a.pageNo,s=a.salesList,r=a.noOfPages,o=t[1];return Object(c.useEffect)((function(){var e=function(){var e=Object(l.a)(Object(i.a)().mark((function e(){var t,a;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://nodejs-example-express-rds.eba-wby9pu7m.ap-south-1.elasticbeanstalk.com/getSaleList?"+new URLSearchParams({pageNo:n}));case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,o({type:"UPDATE_SALES_LIST",value:{salesList:a.salesList,noOfPages:a.noOfPages}});case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();try{e()}catch(t){console.log("unable to connet to server")}}),[n,o]),Object(N.jsx)(N.Fragment,{children:Object(N.jsxs)("div",{className:"container",children:[Object(N.jsx)("div",{className:"row"}),Object(N.jsx)("div",{className:"d-flex",id:"wrapper",style:{paddingBottom:"50px"},children:Object(N.jsx)(W,{title:"Sales List",rowURL:"/salesList/bill/show/",thData:["ID","Date","Clients Name","Total Amount","Paid"],trData:s,dispatch:o,pageNo:n,noOfPages:r})})]})})};var J=function(){var e=Object(o.n)(),t=Object(c.useState)(""),a=Object(k.a)(t,2),n=a[0],s=a[1],r=Object(c.useReducer)((function(e,t){switch(t.type){case"UPDATE_PAGENO":return t.value<=e.noOfPages&&t.value>=1?Object(_.a)(Object(_.a)({},e),{},{pageNo:Number(t.value)-1}):Object(_.a)({},e);case"INCREMENT_PAGENO":return Object(_.a)(Object(_.a)({},e),{},{pageNo:++e.pageNo});case"DECREMENT_PAGENO":return Object(_.a)(Object(_.a)({},e),{},{pageNo:--e.pageNo});case"UPDATE_CLIENTS_LIST":return Object(_.a)(Object(_.a)({},e),{},{clientsList:t.value.clientsList,noOfPages:t.value.noOfPages});case"UPDATE_ALL_CLIENTS_LIST":return Object(_.a)(Object(_.a)({},e),{},{allClientsList:t.allClientsList});default:return e}}),{pageNo:0,clientsList:[],noOfPages:0,allClientsList:[]}),d=Object(k.a)(r,2),u=d[0],b=u.pageNo,j=u.clientsList,p=u.noOfPages,m=u.allClientsList,h=d[1];Object(c.useEffect)((function(){fetch("http://nodejs-example-express-rds.eba-wby9pu7m.ap-south-1.elasticbeanstalk.com/getAllClientsList").then((function(e){return e.json()})).then((function(e){h({type:"UPDATE_ALL_CLIENTS_LIST",allClientsList:e.allClientsList})}))}),[]),Object(c.useEffect)((function(){var e=function(){var e=Object(l.a)(Object(i.a)().mark((function e(){var t,a;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://nodejs-example-express-rds.eba-wby9pu7m.ap-south-1.elasticbeanstalk.com/getClientsList?"+new URLSearchParams({pageNo:b}));case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,h({type:"UPDATE_CLIENTS_LIST",value:{clientsList:a.clientsList,noOfPages:a.noOfPages}});case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();try{e()}catch(t){alert("unable to connet to server")}}),[b,h]);var O=Object(N.jsxs)("div",{className:"d-flex justify-content-end",children:[Object(N.jsxs)("form",{onSubmit:function(t){t.preventDefault();var a=n.split(" ")[0];"number"==typeof Number(a)?e("/clients/transaction/"+a):alert("Invalid Id")},className:"form-inline",id:"cForm",children:[Object(N.jsx)("input",{type:"text",className:"form-control mr-2",list:"client_list",id:"select_client",name:"client",value:n,onChange:function(e){s(e.target.value)},autoFocus:!0}),Object(N.jsx)("button",{className:"btn btn-outline-dark btn-sm",children:"Search"})]}),Object(N.jsx)("form",{className:"form-inline",children:Object(N.jsx)("button",{onClick:function(){e("/clients/add-client")},type:"button",className:"btn btn-dark btn-sm ml-2",children:"Add Client"})}),Object(N.jsx)("datalist",{dir:"rtl",id:"client_list",children:m.map((function(e){var t=e.name.replace(/_/g," ");return Object(N.jsxs)("option",{children:[e.client_id," "," : "," ",t.replace(/\w\S*/g,(function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()}))," ",e.mobile_no]},e.client_id)}))})]});return Object(N.jsx)("div",{className:"d-flex",id:"wrapper",children:Object(N.jsx)(W,{title:"Client List",rowURL:"/clients/transaction/",headerItems:O,thData:["ID","Name","Mobile","Address","City","State"],trData:j,dispatch:h,pageNo:b,noOfPages:p})})};var Z=function(e){var t=Object(c.useReducer)((function(e,t){switch(t.type){case"l1":return Object(_.a)(Object(_.a)({},e),{},{l1:t.value});case"l2":return Object(_.a)(Object(_.a)({},e),{},{l2:t.value});case"city":return Object(_.a)(Object(_.a)({},e),{},{city:t.value});case"zip":return Object(_.a)(Object(_.a)({},e),{},{zip:t.value});case"state":return Object(_.a)(Object(_.a)({},e),{},{state:t.value});case"name":return Object(_.a)(Object(_.a)({},e),{},{name:t.value});case"id":return Object(_.a)(Object(_.a)({},e),{},{id:t.value});case"country":return Object(_.a)(Object(_.a)({},e),{},{country:t.value});case"mobile_no":return Object(_.a)(Object(_.a)({},e),{},{mobile_no:t.value});case"inputDisabled":return Object(_.a)(Object(_.a)({},e),{},{inputDisabled:t.value});case"mode":return Object(_.a)(Object(_.a)({},e),{},{mode:t.value});case"edit":return Object(_.a)(Object(_.a)({},e),{},{mode:"edit",inputDisabled:!1});case"read":return Object(_.a)(Object(_.a)({},e),{},{mode:"read",inputDisabled:!0});case"all":return Object(_.a)(Object(_.a)({},e),{},{l1:t.value.l1,l2:t.value.l2,city:t.value.city,zip:t.value.zip,state:t.value.state,name:t.value.name,id:t.value.id,country:t.value.country,mobile_no:t.value.mobile_no,mode:"read",inputDisabled:!0});default:return e}}),{l1:"",l2:"",city:"",zip:"",state:"",name:"",id:"",country:"",mobile_no:"",inputDisabled:!1,mode:"add"}),a=Object(k.a)(t,2),n=a[0],s=n.l1,r=n.l2,i=n.city,l=n.zip,o=n.state,u=n.name,b=n.id,j=n.country,p=n.mobile_no,m=n.mode,h=n.inputDisabled,O=a[1];Object(c.useEffect)((function(){e.data&&O({type:"all",value:e.data})}),[]);var x="Add Customer";return"read"===m&&(x="Edit"),x="read"===m?"Edit":"Save",Object(N.jsxs)("div",{className:"card",children:[Object(N.jsx)("div",{className:"card-header",children:Object(N.jsx)("p",{className:"display-4 card-heading",children:e.title})}),Object(N.jsx)("div",{className:"m-3",children:Object(N.jsxs)(d.a,{action:"/clients/add-client",method:e.method?e.method:"POST",children:[Object(N.jsxs)("div",{className:"form-row",children:[Object(N.jsx)("div",{className:"form-group col-md-6",children:Object(N.jsx)(R,{prepend:"91",onChange:function(e){O({type:"mobile_no",value:e.target.value})},id:"inputNumber",label:"Mobile",type:"number",name:"mobile",value:p,placeholder:"9876543210",required:!0,focus:!0,disabled:!!e.data})}),Object(N.jsx)("div",{className:"form-group col-md-6",children:Object(N.jsx)(I,{onChange:function(e){O({type:"name",value:e.target.value})},disabled:h,id:"inputName",label:"Client Name",type:"text",name:"name",value:u,placeholder:"Sk Imran",msg:"Make sure to input full name.",required:!0})})]}),Object(N.jsx)("div",{className:"address",children:Object(N.jsxs)("div",{id:"address-section",children:[Object(N.jsx)("div",{className:"form-group",children:Object(N.jsx)(I,{label:"Address Line 1",disabled:h,type:"text",value:s,onChange:function(e){O({type:"l1",value:e.target.value})},id:"inputAddress",placeholder:"Enter customer address",name:"address_line_1",required:!0})}),Object(N.jsx)("div",{className:"form-group",children:Object(N.jsx)(I,{label:"Address Line 2",disabled:h,type:"text",value:r,onChange:function(e){O({type:"l2",value:e.target.value})},id:"inputAddress2",placeholder:"Enter customer address line 2",name:"address_line_2"})}),Object(N.jsxs)("div",{className:"form-row",children:[Object(N.jsx)("div",{className:"form-group col-md-4",children:Object(N.jsx)(I,{label:"City",disabled:h,type:"text",value:i,onChange:function(e){O({type:"city",value:e.target.value})},id:"inputCity",placeholder:"Enter customer city",name:"city_or_district",required:!0})}),Object(N.jsx)("div",{className:"form-group col-md-4",children:Object(N.jsx)(I,{label:"State",disabled:h,type:"text",value:o,onChange:function(e){O({type:"state",value:e.target.value})},id:"inputState",placeholder:"Enter customer state",name:"state",required:!0})}),Object(N.jsx)("div",{className:"form-group col-md-2",children:Object(N.jsx)(I,{label:"Country",disabled:h,type:"text",value:j,onChange:function(e){O({type:"country",value:e.target.value})},id:"inputCountry",placeholder:"Enter customer country",name:"country",required:!0})}),Object(N.jsxs)("div",{className:"form-group col-md-2",children:[Object(N.jsx)(I,{label:"Zip",disabled:h,type:"number",value:l,onChange:function(e){O({type:"zip",value:e.target.value})},id:"inputZip",placeholder:"Enter customer zip",name:"postal_code",required:!0}),Object(N.jsx)("input",{onChange:function(e){},hidden:!0,name:"id",value:""===b||null===b?"":b})]})]})]})}),Object(N.jsx)("button",{onClick:function(t){e.data&&O({type:"all",value:e.data})},hidden:!e.data||"edit"!==m,className:"add-button ml-5 btn btn-dark",type:"reset",children:"Cancel"}),Object(N.jsx)("button",{type:"submit",className:"btn btn-outline-danger add-button submitButton",onClick:function(e){if("read"==m)return e.preventDefault(),void O({type:"edit"})},children:x})]})})]})};function K(e){return Object(N.jsx)("div",{className:"container",style:{marginTop:"40px"},children:Object(N.jsx)(Z,{method:"PUT",disabled:"true",title:e.title,data:e.data})})}var Y=function(){var e=Object(o.p)().id,t=Object(c.useReducer)((function(e,t){switch(t.type){case"UPDATE_PAGENO":return t.value<=e.noOfPages&&t.value>=1?Object(_.a)(Object(_.a)({},e),{},{pageNo:Number(t.value)-1}):Object(_.a)({},e);case"INCREMENT_PAGENO":return Object(_.a)(Object(_.a)({},e),{},{pageNo:++e.pageNo});case"DECREMENT_PAGENO":return Object(_.a)(Object(_.a)({},e),{},{pageNo:--e.pageNo});case"UPDATE_LIST":return Object(_.a)(Object(_.a)({},e),{},{list:t.value.list,noOfPages:t.value.noOfPages,name:t.value.name,details:t.value.details});case"TOGGLE_SHOW_DETAILS":return Object(_.a)(Object(_.a)({},e),{},{showDetails:!e.showDetails});default:return e}}),{pageNo:0,list:[],noOfPages:0,name:"",showDetails:!1}),a=Object(k.a)(t,2),n=a[0],s=n.pageNo,r=n.list,d=n.noOfPages,u=n.name,b=n.showDetails,j=a[1];Object(c.useEffect)((function(){var t=function(){var t=Object(l.a)(Object(i.a)().mark((function t(){var a,c;return Object(i.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("http://nodejs-example-express-rds.eba-wby9pu7m.ap-south-1.elasticbeanstalk.com/getAllClientsHistory?"+new URLSearchParams({pageNo:s,id:e}));case 2:return a=t.sent,t.next=5,a.json();case 5:c=t.sent,j({type:"UPDATE_LIST",value:{list:c.list,noOfPages:c.noOfPages,name:c.name,details:c.details}});case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();try{t()}catch(a){alert("unable to connet to server")}}),[s,j,e]);var p=Object(o.k)().data,m=Object(N.jsx)("button",{onClick:function(){j({type:"TOGGLE_SHOW_DETAILS"})},className:"btn btn-dark btn-ms",children:b?"Hide Details":"Show Details"}),h=Object(N.jsx)(K,{title:"Details",data:p});return Object(N.jsx)("div",{className:"container",style:{paddingBottom:"50px"},children:Object(N.jsx)("div",{style:{display:"block"},children:Object(N.jsx)(W,{title:"".concat(""===u||null===u?"Customer Not Found":u+"s Transactions"),headerItems:m,filterItems:b&&h,rowURL:"/",thData:["Sales or Paymet","Date","Debit","Credit"],trData:r,dispatch:j,pageNo:s,noOfPages:d})})})},X=function(){var e=Object(l.a)(Object(i.a)().mark((function e(t){var a,c;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.params,e.next=3,fetch("http://nodejs-example-express-rds.eba-wby9pu7m.ap-south-1.elasticbeanstalk.com/getClientsDetails?"+new URLSearchParams({id:a.id}));case 3:return c=e.sent,e.abrupt("return",c);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),$=a(56),ee=a.n($);function te(){var e=Object(o.n)(),t=Object(c.useReducer)((function(e,t){switch(t.type){case"UPDATE_PAGENO":return t.value<=e.noOfPages&&t.value>=1?Object(_.a)(Object(_.a)({},e),{},{pageNo:Number(t.value)-1}):Object(_.a)({},e);case"INCREMENT_PAGENO":return Object(_.a)(Object(_.a)({},e),{},{pageNo:++e.pageNo});case"DECREMENT_PAGENO":return Object(_.a)(Object(_.a)({},e),{},{pageNo:--e.pageNo});case"UPDATE_PRODUCT_LIST":return Object(_.a)(Object(_.a)({},e),{},{productList:t.productList,noOfPages:t.noOfPages,amt:t.amt,stk:t.stk});case"UPDATE_BRAND_AND_CATEGORY_LIST":return Object(_.a)(Object(_.a)({},e),{},{brandList:t.brandList,categoryList:t.categoryList});case"update_cat":return Object(_.a)(Object(_.a)({},e),{},{cat:t.value});case"update_brand":return Object(_.a)(Object(_.a)({},e),{},{brand:t.value});case"update_stock":return Object(_.a)(Object(_.a)({},e),{},{stock:t.value});case"update_active":return Object(_.a)(Object(_.a)({},e),{},{active:t.value});case"update_stock":return Object(_.a)(Object(_.a)({},e),{},{stk:t.value});case"update_amt":return Object(_.a)(Object(_.a)({},e),{},{amt:t.value});default:return e}}),{pageNo:0,noOfPages:0,productList:[],categoryList:[],brandList:[],cat:"/_default_/",brand:"/_default_/",stock:"/_default_/",active:"/_default_/",stk:0,amt:0}),a=Object(k.a)(t,2),n=a[0],s=n.pageNo,r=n.noOfPages,i=n.productList,l=n.categoryList,d=n.brandList,u=n.cat,b=n.brand,j=n.stock,p=n.active,m=n.stk,h=n.amt,O=a[1];Object(c.useEffect)((function(){fetch("http://nodejs-example-express-rds.eba-wby9pu7m.ap-south-1.elasticbeanstalk.com/getCategoryBrand").then((function(e){return e.json()})).then((function(e){O({type:"UPDATE_BRAND_AND_CATEGORY_LIST",brandList:e.brand,categoryList:e.cat})}))}),[]),Object(c.useEffect)((function(){fetch("http://nodejs-example-express-rds.eba-wby9pu7m.ap-south-1.elasticbeanstalk.com/getProductList?"+new URLSearchParams({pageNo:s,cat:u,brand:b,stock:j,active:p})).then((function(e){return e.json()})).then((function(e){O({type:"UPDATE_PRODUCT_LIST",stk:e.totalStock,amt:e.totalAmount,productList:e.list,noOfPages:e.noOfPages})}))}),[s]);var x=Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)("button",{disabled:"/_default_/"===u,onClick:function(){"/_default_/"===u?alert("Please Select A Category."):e("stockBookPrint",{state:{cat:u,brand:b,stock:j,active:p}})},className:"btn btn-dark mr-2",children:"Print Stock Book"}),Object(N.jsx)("button",{onClick:function(){e("/productItem/addProducts")},className:"btn btn-dark",children:"Add Product"})]}),f=Object(N.jsxs)("div",{className:ee.a.filterItem,children:[Object(N.jsxs)("select",{onChange:function(e){O({type:"update_cat",value:e.target.value})},name:"catagory",defaultValue:"/_default_/",className:"custom-select",style:{maxWidth:"200px",marginLeft:"-7px"},children:[Object(N.jsx)("option",{value:"/_default_/",children:"All Category"}),l.map((function(e){var t=e.name.replace(/_/g," ");return t=t.replace(/\w\S*/g,(function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()})),Object(N.jsx)("option",{value:e.name,children:t},e.name)}))]}),Object(N.jsxs)("select",{onChange:function(e){O({type:"update_brand",value:e.target.value})},name:"brand_name",defaultValue:"/_default_/",className:"custom-select",style:{maxWidth:"200px"},children:[Object(N.jsx)("option",{value:"/_default_/",children:"All Brand"}),d.map((function(e,t){var a=e.brand_name.replace(/_/g," ");return a=a.replace(/\w\S*/g,(function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()})),Object(N.jsx)("option",{value:e.name,children:a},t)}))]}),Object(N.jsxs)("select",{onChange:function(e){O({type:"update_stock",value:e.target.value})},name:"active",defaultValue:"/_default_/",className:"custom-select",style:{maxWidth:"200px"},children:[Object(N.jsx)("option",{value:"/_default_/",children:"Select Stock"}),Object(N.jsx)("option",{value:"0",children:"Low Stock"}),Object(N.jsx)("option",{value:"1",children:"On Stock"}),Object(N.jsx)("option",{value:"2",children:"High Stock"})]}),Object(N.jsxs)("select",{onChange:function(e){O({type:"update_active",value:e.target.value})},name:"active",defaultValue:"/_default_/",className:"custom-select",style:{maxWidth:"200px"},children:[Object(N.jsx)("option",{value:"/_default_/",children:"Select Active or Inactive"}),Object(N.jsx)("option",{value:"1",children:"Active"}),Object(N.jsx)("option",{value:"0",children:"Inactive"})]}),Object(N.jsx)("button",{className:"btn btn-outline-dark btn-sm",onClick:function(){0!=s?O({type:"UPDATE_PAGENO",value:1}):fetch("http://nodejs-example-express-rds.eba-wby9pu7m.ap-south-1.elasticbeanstalk.com/getProductList?"+new URLSearchParams({pageNo:s,cat:u,brand:b,stock:j,active:p})).then((function(e){return e.json()})).then((function(e){console.log(e),O({type:"UPDATE_PRODUCT_LIST",stk:e.totalStock,amt:e.totalAmount,productList:e.list,noOfPages:e.noOfPages})}))},children:"Filter"}),"No of Stock:",Object(N.jsx)("strong",{className:"text-danger",children:m})," Stock Value:",Object(N.jsxs)("strong",{className:"text-danger",children:["\u20b9 ",h]})]});return Object(N.jsx)("div",{className:"d-flex pb-5",id:"wrapper",children:Object(N.jsx)(W,{title:"Products List",headerItems:x,rowURL:"/productItem/",filterItems:f,thData:["Name","Category","Brand","Stock","Min Stock","Max Stock","MRP","Unit"],trData:i,dispatch:O,pageNo:s,noOfPages:r})})}var ae=function(){var e=Object(l.a)(Object(i.a)().mark((function e(t){var a,c,n,s,r;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.request,t.params,e.next=3,a.formData();case 3:return c=e.sent,n={catagory:c.get("catagory"),brand_name:c.get("brand_name"),name:c.get("name"),mrp:c.get("mrp"),cp:c.get("cp"),unit:c.get("unit")},console.log(n),console.log(a.method),e.next=9,fetch("http://nodejs-example-express-rds.eba-wby9pu7m.ap-south-1.elasticbeanstalk.com/createNewProduct",{method:a.method,headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});case 9:return s=e.sent,e.next=12,s.json();case 12:if(r=e.sent,console.log(r),1!=r.done&&"true"!==r.done){e.next=18;break}return e.abrupt("return",Object(O.p)("/productItem/"+r.id));case 18:throw"Cannot create the product";case 19:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();var ce=function(){return Object(N.jsx)("div",{className:"container",style:{marginTop:"40px"},children:Object(N.jsx)(Z,{title:"Add Customer"})})},ne=function(){var e=Object(l.a)(Object(i.a)().mark((function e(t){var a,c,n,s,r;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.request,t.params,e.next=3,a.formData();case 3:return c=e.sent,n={mobile_no:c.get("mobile"),name:c.get("name"),address_line_1:c.get("address_line_1"),address_line_2:c.get("address_line_2"),city_or_district:c.get("city_or_district"),state:c.get("state"),country:c.get("country"),postal_code:c.get("postal_code"),id:c.get("id")},console.log(n),console.log(a.method),e.next=9,fetch("http://nodejs-example-express-rds.eba-wby9pu7m.ap-south-1.elasticbeanstalk.com/clients/addClient",{method:a.method,headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});case 9:return s=e.sent,e.next=12,s.json();case 12:if(r=e.sent,console.log(r),1!=r.done&&"true"!==r.done){e.next=21;break}if("PUT"!=a.method){e.next=18;break}return alert("Client Details Has been updated"),e.abrupt("return",Object(O.p)("/clients/transaction/"+n.id));case 18:return e.abrupt("return",Object(O.p)("/clientList"));case 21:if("PUT"!=a.method){e.next=25;break}throw r;case 25:throw"Cannot create the customer with the mobile number provided";case 26:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function se(){var e=Object(c.useState)({brands:[],category:[],units:[]}),t=Object(k.a)(e,2),a=t[0],n=t[1];return Object(c.useEffect)((function(){fetch("http://nodejs-example-express-rds.eba-wby9pu7m.ap-south-1.elasticbeanstalk.com/addProductPageDetails").then((function(e){return e.json()})).then((function(e){n(e)}))}),[]),Object(N.jsxs)("div",{className:"container",id:"addProductsForm",children:[Object(N.jsx)("div",{className:"add-heading bg-primary",children:Object(N.jsx)("h3",{children:"Add Product"})}),Object(N.jsxs)(d.a,{method:"POST",className:"needs-validation",noValidate:!0,children:[Object(N.jsx)("div",{className:"form-group",children:Object(N.jsxs)("div",{className:"select-items",children:[Object(N.jsx)("label",{htmlFor:"categorySelect",children:"Category"}),Object(N.jsx)("select",{className:"custom-select",name:"catagory",id:"categorySelect",required:!0,children:a.category.map((function(e,t){var a=e.name.replace(/_/g," ");return a=a.replace(/\w\S*/g,(function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()})),Object(N.jsx)("option",{value:e.name,children:a},t)}))})]})}),Object(N.jsxs)("div",{className:"form-group",children:[Object(N.jsx)("label",{htmlFor:"brandSelect",children:"Brand"}),Object(N.jsx)("input",{type:"text",className:"form-control",list:"brands",id:"brandSelect",name:"brand_name",required:!0}),Object(N.jsx)("datalist",{id:"brands",children:a.brands.map((function(e,t){var a=e.brand_name.replace(/_/g," ");return a=a.replace(/\w\S*/g,(function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()})),Object(N.jsx)("option",{value:e.brand_name,children:a},t)}))})]}),Object(N.jsxs)("div",{className:"form-group ",children:[Object(N.jsx)("label",{htmlFor:"name",children:"Name"}),Object(N.jsx)("input",{type:"text",className:"form-control",id:"name",placeholder:"Name",name:"name",required:!0})]}),Object(N.jsxs)("div",{className:"form-group ",children:[Object(N.jsx)("label",{htmlFor:"mrp",children:"MRP"}),Object(N.jsx)("input",{type:"number",className:"form-control",id:"mrp",placeholder:"00",name:"mrp",step:"any"})]}),Object(N.jsxs)("div",{className:"form-group ",children:[Object(N.jsx)("label",{htmlFor:"cp",children:"Cost Price"}),Object(N.jsx)("input",{type:"number",className:"form-control",id:"cp",placeholder:"00",name:"cp",step:"any"})]}),Object(N.jsxs)("div",{className:"form-group",children:[Object(N.jsx)("label",{htmlFor:"unitSelect",children:"Unit"}),Object(N.jsx)("input",{type:"text",className:"form-control",list:"units",id:"unitSelect",name:"unit",required:!0}),Object(N.jsx)("datalist",{id:"units",children:a.units.map((function(e,t){var a=e.name.replace(/_/g," ");return Object(N.jsx)("option",{value:e.name,children:a},t)}))})]}),Object(N.jsx)("button",{className:"btn btn-info btn-sm",type:"submit",children:"Apply"})]})]})}var re=a(11);function ie(){var e=Object(c.useState)([]),t=Object(k.a)(e,2),a=t[0],n=t[1],s=Object(c.useState)({}),r=Object(k.a)(s,2),i=r[0],l=r[1],u=Object(c.useState)([]),b=Object(k.a)(u,2),j=b[0],p=b[1],m=Object(o.p)().id,h=Object(c.useState)(""),O=Object(k.a)(h,2),x=O[0],f=O[1],g=Object(c.useState)(1),v=Object(k.a)(g,2),y=v[0],w=v[1],S=Object(c.useState)(""),C=Object(k.a)(S,2),P=C[0],D=C[1],L=Object(c.useState)([]),E=Object(k.a)(L,2),F=E[0],A=E[1],T=Object(c.useState)(""),I=Object(k.a)(T,2),R=I[0],q=I[1],U=Object(c.useState)(!1),B=Object(k.a)(U,2),M=B[0],z=B[1],G=Object(c.useState)(0),H=Object(k.a)(G,2),V=H[0],W=H[1],Q=Object(c.useState)(0),J=Object(k.a)(Q,2),Z=J[0],K=J[1],Y=Object(c.useState)(0),X=Object(k.a)(Y,2),$=X[0],ee=X[1],te=Object(c.useState)(0),ae=Object(k.a)(te,2),ce=ae[0],ne=ae[1],se=Object(c.useState)(0),re=Object(k.a)(se,2),ie=re[0],le=re[1],oe=Object(c.useState)(""),de=Object(k.a)(oe,2),ue=de[0],be=de[1],je=Object(c.useState)([]),pe=Object(k.a)(je,2),me=pe[0],he=pe[1],Oe=Object(c.useState)(0),xe=Object(k.a)(Oe,2),fe=xe[0],ge=xe[1],ve=Object(c.useState)(""),Ne=Object(k.a)(ve,2),ye=Ne[0],_e=Ne[1];return Object(c.useEffect)((function(){fetch("http://nodejs-example-express-rds.eba-wby9pu7m.ap-south-1.elasticbeanstalk.com/getProductDetails?"+new URLSearchParams({id:m})).then((function(e){return e.json()})).then((function(e){console.log(e),p(e.specsValues),n(e.specField),l(e.specs),f(e.product.catagory),w(e.product.per_peice_quantity),D(e.product.brand_name),A(e.brands),q(e.product.product_name),z(1===e.product.active),W(e.product.mrp),K(e.product.cp),ee(e.product.stock),ne(e.product.min_stock),le(e.product.default_stock),be(e.product.unit),he(e.units),ge(e.product.catagory_specs_id)}))}),[]),Object(c.useEffect)((function(){var e="";a.forEach((function(t,a){e+=t.Field+"::"})),_e(e)}),[a]),Object(N.jsxs)("div",{className:"container",id:"addProductsForm",children:[Object(N.jsx)("div",{className:"add-heading bg-danger",children:Object(N.jsx)("h3",{children:"Edit Product"})}),Object(N.jsxs)("h3",{children:["Enter the ",x,"'s Specification"]}),Object(N.jsxs)(d.a,{method:"POST",children:[a.map((function(e,t){return"specs_id"!=e.Field?Object(N.jsxs)("div",{className:"form-group",children:[Object(N.jsx)("label",{htmlFor:e.Field+"Select",children:e.Field}),Object(N.jsx)("input",{type:e.Type,className:"form-control",list:e.Field,id:e.Field+"Select",value:i[e.Field],onChange:function(t){var a=Object(_.a)({},e);a[e.Field]=t.target.value,l(a)},name:e.Field}),Object(N.jsx)("datalist",{id:e.Field,children:j[t].map((function(t,a){return Object(N.jsx)("option",{children:t[e.Field]},a)}))})]},t):Object(N.jsx)("input",{type:"hidden",id:"specs",name:"specs",onChange:function(e){return _e(e.target.value)},value:ye})})),Object(N.jsxs)("div",{className:"form-group ",children:[Object(N.jsx)("label",{htmlFor:"quantity_per_peice",children:"Quantity Per Peice"}),Object(N.jsx)("input",{step:"any",type:"number",className:"form-control",id:"quantity_per_peice",placeholder:"1",name:"quantity_per_peice",value:y,onChange:function(e){w(e.target.value)}})]}),Object(N.jsxs)("div",{className:"form-group",children:[Object(N.jsx)("label",{htmlFor:"brandSelect",children:"Brand"}),Object(N.jsx)("input",{type:"text",className:"form-control",list:"brands",id:"brandSelect",value:P,name:"brand_name",onChange:function(e){D(e.target.value)}}),Object(N.jsx)("datalist",{id:"brands",children:F.map((function(e,t){return Object(N.jsx)("option",{children:e.brand_name},t)}))})]}),Object(N.jsxs)("div",{className:"form-group ",children:[Object(N.jsx)("label",{htmlFor:"name",children:"Name"}),Object(N.jsx)("input",{type:"text",className:"form-control",id:"name",placeholder:"Name",name:"name",value:R,onChange:function(e){q(e.target.value)}})]}),Object(N.jsx)("input",{checked:M,type:"radio",value:!0,id:"active",name:"active",onChange:function(e){z("true"===e.target.value)}}),Object(N.jsx)("label",{htmlFor:"active",className:"mr-3",children:"Active"}),Object(N.jsx)("input",{checked:!M,type:"radio",value:!1,id:"inactive",name:"active",onChange:function(e){z("true"===e.target.value)}}),Object(N.jsx)("label",{htmlFor:"inactive",children:"Inactive"}),Object(N.jsxs)("div",{className:"form-group ",children:[Object(N.jsx)("label",{htmlFor:"mrp",children:"MRP"}),Object(N.jsx)("input",{type:"number",className:"form-control",id:"mrp",placeholder:"1000.00",name:"mrp",value:V,onChange:function(e){W(e.target.value)},step:"any"})]}),Object(N.jsxs)("div",{className:"form-group ",children:[Object(N.jsx)("label",{htmlFor:"cp",children:"Info"}),Object(N.jsx)("input",{type:"number",className:"form-control",id:"cp",placeholder:"950.00",name:"cp",value:Z,onChange:function(e){K(e.target.value)},step:"any"})]}),Object(N.jsxs)("div",{className:"form-group ",children:[Object(N.jsx)("label",{htmlFor:"stock",children:"Stock"}),Object(N.jsx)("input",{type:"number",className:"form-control",id:"stock",placeholder:"1",name:"stock",value:$,onChange:function(e){ee(e.target.value)},step:"any"})]}),Object(N.jsxs)("div",{className:"form-group ",children:[Object(N.jsx)("label",{htmlFor:"min_stock",children:"Enter The Min. Stock"}),Object(N.jsx)("input",{type:"number",className:"form-control",id:"min_stock",placeholder:"1",name:"min_stock",value:ce,onChange:function(e){ne(e.target.value)},step:"any"})]}),Object(N.jsxs)("div",{className:"form-group ",children:[Object(N.jsx)("label",{htmlFor:"default_stock",children:"Enter The Default Stock"}),Object(N.jsx)("input",{type:"number",className:"form-control",id:"default_stock",placeholder:"950.00",name:"default_stock",value:ie,onChange:function(e){le(e.target.value)},step:"any"})]}),Object(N.jsxs)("div",{className:"form-group",children:[Object(N.jsx)("label",{htmlFor:"unitSelect",children:"Unit"}),Object(N.jsx)("input",{type:"text",className:"form-control",list:"units",id:"unitSelect",value:ue,onChange:function(e){be(e.target.value)},name:"unit"}),Object(N.jsx)("datalist",{id:"units",children:me.map((function(e,t){return Object(N.jsx)("option",{value:e,children:" u "},t)}))})]}),Object(N.jsx)("input",{type:"hidden",name:"product_id",onChange:function(e){},value:m}),Object(N.jsx)("input",{type:"hidden",name:"catagory_specs_id",onChange:function(e){},value:fe}),Object(N.jsx)("input",{type:"hidden",name:"catagory",onChange:function(e){},value:x}),Object(N.jsx)("button",{className:"btn btn-dark ",type:"submit",children:"Save"}),Object(N.jsx)(d.b,{to:"label",className:"btn btn-outline-danger ml-2",children:"Generate Label"})]})]})}var le=function(){var e=Object(l.a)(Object(i.a)().mark((function e(t){var a,c,n,s;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.request,t.params,e.next=3,a.formData();case 3:return c=e.sent,n=Object(re.a)({catagory:c.get("catagory"),brand_name:c.get("brand_name"),name:c.get("name"),mrp:c.get("mrp"),cp:c.get("cp"),unit:c.get("unit"),specs:c.get("specs"),product_id:c.get("product_id"),quantity_per_peice:c.get("quantity_per_peice"),active:c.get("active"),stock:c.get("stock"),min_stock:c.get("min_stock"),default_stock:c.get("default_stock"),catagory_specs_id:c.get("catagory_specs_id")},"catagory",c.get("catagory")),n.specs.split("::").slice(1,-1).forEach((function(e){n[e]=c.get(e)})),e.next=10,fetch("http://nodejs-example-express-rds.eba-wby9pu7m.ap-south-1.elasticbeanstalk.com/editProduct",{method:a.method,headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});case 10:return s=e.sent,e.next=13,s.json();case 13:if(1!=(s=e.sent).done){e.next=19;break}return alert("The Product Has been updated"),e.abrupt("return",Object(O.p)("/productItem/"+n.product_id));case 19:throw"Cannot Edit The Products Please Contact Admin. MSG: "+s.err;case 20:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();var oe=function(){var e=Object(l.a)(Object(i.a)().mark((function e(){var t;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://nodejs-example-express-rds.eba-wby9pu7m.ap-south-1.elasticbeanstalk.com/getCategoryList");case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),de=function(){var e=Object(o.k)().data,t=Object(o.n)();return Object(N.jsx)("div",{class:"d-flex container",children:Object(N.jsx)("div",{id:"page-content-wrapper",children:Object(N.jsxs)("div",{class:"copntainer-fluid",children:[Object(N.jsxs)("div",{class:"card",children:[Object(N.jsx)("div",{class:"card-header",children:Object(N.jsxs)("div",{className:V.a.cardHeader,children:[Object(N.jsx)("div",{children:Object(N.jsx)("div",{children:Object(N.jsx)("p",{className:"display-4 card-heading",children:"Catagory"})})}),Object(N.jsx)("div",{children:Object(N.jsx)("button",{onClick:function(){t("/productsCatagory/add")},className:"btn btn-dark",children:"Add Category"})})]})}),Object(N.jsxs)("table",{class:"table table-striped table-hover",children:[Object(N.jsx)("thead",{class:"thead-dark",children:Object(N.jsxs)("tr",{children:[Object(N.jsx)("th",{scope:"col",children:"Name"}),Object(N.jsx)("th",{scope:"col",children:"Belongs To"})]})}),Object(N.jsx)("tbody",{children:e.map((function(e){var a=e.name.replace(/_/g," ");return a=a.replace(/\w\S*/g,(function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()})),Object(N.jsxs)("tr",{children:[Object(N.jsx)("th",{scope:"row",onClick:function(){t("/productsCatagory/".concat(e.name))},children:a}),Object(N.jsx)("td",{children:e.this_catagory_belongs_to})]})}))})]})]}),Object(N.jsx)("div",{class:"card-footer"})]})})})};function ue(e){return Object(N.jsx)("div",{id:"spec-container",children:Object(N.jsxs)("div",{className:"row",children:[Object(N.jsxs)("div",{className:"form-group col-md-8",children:[Object(N.jsxs)("label",{htmlFor:"spec_".concat(e.n),children:["Spec ",e.n]}),Object(N.jsx)("input",{type:"text",className:"form-control",id:"spec_".concat(e.n),name:"spec_".concat(e.n),required:!0})]}),Object(N.jsxs)("div",{className:"form-group col-md-4",children:[Object(N.jsx)("label",{htmlFor:"spec_".concat(e.n,"_default"),children:"Default"}),Object(N.jsx)("input",{type:"text",className:"form-control",id:"spec_".concat(e.n,"_default"),name:"default_".concat(e.n),required:!0})]})]})})}function be(){var e=Object(c.useState)(1),t=Object(k.a)(e,2),a=t[0],n=t[1],s=Object(c.useState)([Object(N.jsx)(ue,{n:"1"},1)]),r=Object(k.a)(s,2),i=r[0],l=r[1],u=Object(o.k)().data,b=Object(o.n)();return Object(N.jsxs)("div",{className:"container",children:[Object(N.jsx)("div",{className:"add-heading bg-primary",children:Object(N.jsx)("h3",{children:"Add Category"})}),Object(N.jsxs)(d.a,{method:"POST",className:"needs-validation",noValidate:!0,children:[Object(N.jsx)("input",{hidden:!0,type:"number",name:"no_of_specs",value:a,onChange:function(e){}}),Object(N.jsxs)("div",{className:"form-row",children:[Object(N.jsxs)("div",{className:"form-group col-md-8",children:[Object(N.jsx)("label",{htmlFor:"catagory_name",children:"Category Name"}),Object(N.jsx)("input",{type:"text",className:"form-control",id:"catagory_name",name:"catagory_name",required:!0}),Object(N.jsx)("div",{className:"invalid-feedback",children:"Category name is required"})]}),Object(N.jsx)("div",{className:"form-group col-md-4",children:Object(N.jsxs)("div",{className:"select-items",children:[Object(N.jsx)("label",{htmlFor:"belongs_to",children:"This Category belongs to"}),Object(N.jsxs)("select",{className:"custom-select",name:"belongs_to",id:"belongs_to",required:!0,children:[Object(N.jsx)("option",{value:"null",children:"null"}),u.map((function(e,t){var a=e.name.replace(/_/g," ");return a=a.replace(/\w\S*/g,(function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()})),Object(N.jsx)("option",{value:e.name,children:a},t)}))]})]})})]}),i,Object(N.jsx)("button",{type:"submit",className:"btn btn-primary btn-sm add-button",children:"Add"}),Object(N.jsx)("a",{className:"btn btn-info btn-sm add-button mr-3 mb-3 text-white",onClick:function(){b(-1)},role:"button",children:"Cancel"}),Object(N.jsx)("a",{className:"btn btn-info btn-sm add-button mr-3 mb-3 text-white",role:"button",onClick:function(){var e=Object(w.a)(i);e.push(Object(N.jsx)(ue,{n:a+1},a+1)),l(e),n(a+1)},children:"Add Specs"})]})]})}var je=function(){var e=Object(l.a)(Object(i.a)().mark((function e(t){var a,c,n,s,r,l,o;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.request,t.params,e.next=3,a.formData();case 3:for(c=e.sent,n=c.get("no_of_specs"),s={},r=1;r<=n;r++)s["spec_".concat(r)]=c.get("spec_".concat(r)),s["default_".concat(r)]=c.get("default_".concat(r));return s.name=c.get("catagory_name"),s.belongs_to=c.get("belongs_to"),console.log(s),console.log(a.method),e.next=13,fetch("http://nodejs-example-express-rds.eba-wby9pu7m.ap-south-1.elasticbeanstalk.com/catagory/add",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});case 13:return l=e.sent,e.next=16,l.json();case 16:if(1!=(o=e.sent).done&&"true"!==o.done){e.next=21;break}return e.abrupt("return",Object(O.p)("/productsCatagory"));case 21:throw"Cannot create the product";case 22:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function pe(){var e=Object(o.n)(),t=Object(o.k)(),a=t.category,c=t.category_specs,n=a.name.replace(/_/g," ");n=n.replace(/\w\S*/g,(function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()}));var s=function(){var t=Object(l.a)(Object(i.a)().mark((function t(){var c,n;return Object(i.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("http://nodejs-example-express-rds.eba-wby9pu7m.ap-south-1.elasticbeanstalk.com/deleteCatagory/"+a.name);case 2:return c=t.sent,t.next=5,c.json();case 5:n=t.sent,console.log(n),1==n.done||"true"===n.done?e(-1):alert("Cannot delete",n.msg);case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(N.jsxs)("div",{className:"container",children:[Object(N.jsx)("div",{className:"add-heading bg-primary",children:Object(N.jsxs)("h3",{children:["Edit ",n," Category"]})}),Object(N.jsxs)(d.a,{method:"POST",className:"needs-validation",noValidate:!0,children:[Object(N.jsx)("input",{hidden:!0,type:"number",name:"no_of_specs",value:"no_of_specs",onChange:function(e){}}),Object(N.jsxs)("div",{className:"form-row",children:[Object(N.jsxs)("div",{className:"form-group col-md-8",children:[Object(N.jsx)("label",{htmlFor:"catagory_name",children:"Category Name"}),Object(N.jsx)("input",{type:"text",className:"form-control",id:"catagory_name",value:n,disabled:!0,name:"catagory_name",required:!0}),Object(N.jsx)("div",{className:"invalid-feedback",children:"Category name is required"})]}),Object(N.jsx)("div",{className:"form-group col-md-4",children:Object(N.jsxs)("div",{className:"select-items",children:[Object(N.jsx)("label",{htmlFor:"belongs_to",children:"This Category belongs to"}),Object(N.jsx)("input",{type:"text",className:"form-control",id:"belongs_to",value:a.this_catagory_belongs_to,disabled:!0,name:"belongs_to",required:!0})]})})]}),c.map((function(e,t){if(t+=1,"specs_id"!=e.Field)return Object(N.jsx)("div",{id:"spec-container",children:Object(N.jsxs)("div",{className:"row",children:[Object(N.jsxs)("div",{className:"form-group col-md-8",children:[Object(N.jsxs)("label",{htmlFor:"spec_".concat(t),children:["Spec ",t]}),Object(N.jsx)("input",{type:"text",className:"form-control",id:"spec_".concat(t),value:e.Field,onChange:function(){},disabled:!0,name:"spec_".concat(t),required:!0})]}),Object(N.jsxs)("div",{className:"form-group col-md-4",children:[Object(N.jsx)("label",{htmlFor:"spec_".concat(t,"_default"),children:"Default"}),Object(N.jsx)("input",{type:"text",className:"form-control",id:"spec_".concat(t,"_default"),value:e.Default,onChange:function(){},disabled:!0,name:"default_".concat(t),required:!0})]})]})},t)})),Object(N.jsx)(d.b,{to:"labelEdit",className:"btn btn-dark btn-sm add-button",children:"Edit Lable"}),Object(N.jsx)("a",{className:"btn btn-danger btn-sm add-button mr-3 mb-3 text-white",role:"button",onClick:s,children:"Delete"})]})]})}var me=function(){var e=Object(l.a)(Object(i.a)().mark((function e(t){var a,c;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.request,a=t.params,e.next=3,fetch("http://nodejs-example-express-rds.eba-wby9pu7m.ap-south-1.elasticbeanstalk.com/editCatagory/"+a.name);case 3:return c=e.sent,e.abrupt("return",c);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();var he=function(){var e=Object(o.n)(),t=Object(c.useState)(""),a=Object(k.a)(t,2),n=a[0],s=a[1],r=Object(c.useReducer)((function(e,t){switch(t.type){case"UPDATE_PAGENO":return t.value<=e.noOfPages&&t.value>=1?Object(_.a)(Object(_.a)({},e),{},{pageNo:Number(t.value)-1}):Object(_.a)({},e);case"INCREMENT_PAGENO":return Object(_.a)(Object(_.a)({},e),{},{pageNo:++e.pageNo});case"DECREMENT_PAGENO":return Object(_.a)(Object(_.a)({},e),{},{pageNo:--e.pageNo});case"UPDATE_DISTRIBUTORS_LIST":return Object(_.a)(Object(_.a)({},e),{},{distributorsList:t.value.distributorsList,noOfPages:t.value.noOfPages});case"UPDATE_ALL_DISTRIBUTORS_LIST":return Object(_.a)(Object(_.a)({},e),{},{allDistributorsList:t.allDistributorsList});default:return e}}),{pageNo:0,distributorsList:[],noOfPages:0,allDistributorsList:[]}),d=Object(k.a)(r,2),u=d[0],b=u.pageNo,j=u.distributorsList,p=u.noOfPages,m=u.allDistributorsList,h=d[1];Object(c.useEffect)((function(){fetch("http://nodejs-example-express-rds.eba-wby9pu7m.ap-south-1.elasticbeanstalk.com/getAllDistributorsList").then((function(e){return e.json()})).then((function(e){h({type:"UPDATE_ALL_DISTRIBUTORS_LIST",allDistributorsList:e.allDistributorsList})}))}),[]),Object(c.useEffect)((function(){var e=function(){var e=Object(l.a)(Object(i.a)().mark((function e(){var t,a;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://nodejs-example-express-rds.eba-wby9pu7m.ap-south-1.elasticbeanstalk.com/getDistributorsList?"+new URLSearchParams({pageNo:b}));case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,h({type:"UPDATE_DISTRIBUTORS_LIST",value:{distributorsList:a.distributorsList,noOfPages:a.noOfPages}});case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();try{e()}catch(t){alert("unable to connet to server")}}),[b,h]);var O=Object(N.jsxs)("div",{className:"d-flex justify-content-end",children:[Object(N.jsxs)("form",{onSubmit:function(t){t.preventDefault();var a=n.split(" ")[0];"number"==typeof Number(a)?e("/distributor/transaction/"+a):alert("Invalid Id")},className:"form-inline",id:"cForm",children:[Object(N.jsx)("input",{type:"text",className:"form-control mr-2",list:"dist_list",id:"select_dist",name:"dist",value:n,onChange:function(e){s(e.target.value)},autoFocus:!0}),Object(N.jsx)("button",{className:"btn btn-outline-dark btn-sm",children:"Search"})]}),Object(N.jsx)("form",{className:"form-inline",children:Object(N.jsx)("button",{onClick:function(){e("/distributor/add")},type:"button",className:"btn btn-dark btn-sm ml-2",children:"Add Distributors"})}),Object(N.jsx)("datalist",{dir:"rtl",id:"dist_list",children:m.map((function(e){var t=e.name.replace(/_/g," ");return Object(N.jsxs)("option",{children:[e.distributor_id," "," : "," ",t.replace(/\w\S*/g,(function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()}))]},e.distributor_id)}))})]});return Object(N.jsx)("div",{className:"d-flex",id:"wrapper",children:Object(N.jsx)(W,{title:"Distributors List",rowURL:"/distributor/transaction/",headerItems:O,thData:["ID","Name","Address","District","State","Postal Code"],trData:j,dispatch:h,pageNo:b,noOfPages:p})})};var Oe=function(e){var t=Object(c.useReducer)((function(e,t){switch(t.type){case"l1":return Object(_.a)(Object(_.a)({},e),{},{l1:t.value});case"l2":return Object(_.a)(Object(_.a)({},e),{},{l2:t.value});case"city":return Object(_.a)(Object(_.a)({},e),{},{city:t.value});case"zip":return Object(_.a)(Object(_.a)({},e),{},{zip:t.value});case"state":return Object(_.a)(Object(_.a)({},e),{},{state:t.value});case"name":return Object(_.a)(Object(_.a)({},e),{},{name:t.value});case"id":return Object(_.a)(Object(_.a)({},e),{},{id:t.value});case"country":return Object(_.a)(Object(_.a)({},e),{},{country:t.value});case"inputDisabled":return Object(_.a)(Object(_.a)({},e),{},{inputDisabled:t.value});case"mode":return Object(_.a)(Object(_.a)({},e),{},{mode:t.value});case"edit":return Object(_.a)(Object(_.a)({},e),{},{mode:"edit",inputDisabled:!1});case"read":return Object(_.a)(Object(_.a)({},e),{},{mode:"read",inputDisabled:!0});case"all":return Object(_.a)(Object(_.a)({},e),{},{l1:t.value.l1,l2:t.value.l2,city:t.value.city,zip:t.value.zip,state:t.value.state,name:t.value.name,id:t.value.id,country:t.value.country,mode:"read",inputDisabled:!0});default:return e}}),{l1:"",l2:"",city:"",zip:"",state:"",name:"",id:"",country:"",inputDisabled:!1,mode:"add"}),a=Object(k.a)(t,2),n=a[0],s=n.l1,r=n.l2,i=n.city,l=n.zip,o=n.state,u=n.name,b=n.id,j=n.country,p=n.mode,m=n.inputDisabled,h=a[1];Object(c.useEffect)((function(){e.data&&h({type:"all",value:e.data})}),[]);var O="Add Distributors";return"read"===p&&(O="Edit"),O="read"===p?"Edit":"Save",Object(N.jsxs)("div",{className:"card",children:[Object(N.jsx)("div",{className:"card-header",children:Object(N.jsx)("p",{className:"display-4 card-heading",children:e.title})}),Object(N.jsx)("div",{className:"m-3",children:Object(N.jsxs)(d.a,{action:"/clients/add-client",method:e.method?e.method:"POST",children:[Object(N.jsx)("div",{className:"",children:Object(N.jsx)("div",{className:"form-group",children:Object(N.jsx)(I,{onChange:function(e){h({type:"name",value:e.target.value})},disabled:m,id:"inputName",label:"Distributors Name",type:"text",name:"name",value:u,placeholder:"Sentury",msg:"Make sure to input full name.",required:!0})})}),Object(N.jsx)("div",{className:"address",children:Object(N.jsxs)("div",{id:"address-section",children:[Object(N.jsx)("div",{className:"form-group",children:Object(N.jsx)(I,{label:"Address Line 1",disabled:m,type:"text",value:s,onChange:function(e){h({type:"l1",value:e.target.value})},id:"inputAddress",placeholder:"Enter customer address",name:"address_line_1",required:!0})}),Object(N.jsx)("div",{className:"form-group",children:Object(N.jsx)(I,{label:"Address Line 2",disabled:m,type:"text",value:r,onChange:function(e){h({type:"l2",value:e.target.value})},id:"inputAddress2",placeholder:"Enter customer address line 2",name:"address_line_2"})}),Object(N.jsxs)("div",{className:"form-row",children:[Object(N.jsx)("div",{className:"form-group col-md-4",children:Object(N.jsx)(I,{label:"City",disabled:m,type:"text",value:i,onChange:function(e){h({type:"city",value:e.target.value})},id:"inputCity",placeholder:"Enter customer city",name:"city_or_district",required:!0})}),Object(N.jsx)("div",{className:"form-group col-md-4",children:Object(N.jsx)(I,{label:"State",disabled:m,type:"text",value:o,onChange:function(e){h({type:"state",value:e.target.value})},id:"inputState",placeholder:"Enter customer state",name:"state",required:!0})}),Object(N.jsx)("div",{className:"form-group col-md-2",children:Object(N.jsx)(I,{label:"Country",disabled:m,type:"text",value:j,onChange:function(e){h({type:"country",value:e.target.value})},id:"inputCountry",placeholder:"Enter customer country",name:"country",required:!0})}),Object(N.jsxs)("div",{className:"form-group col-md-2",children:[Object(N.jsx)(I,{label:"Zip",disabled:m,type:"number",value:l,onChange:function(e){h({type:"zip",value:e.target.value})},id:"inputZip",placeholder:"Enter customer zip",name:"postal_code",required:!0}),Object(N.jsx)("input",{onChange:function(e){},hidden:!0,name:"id",value:""===b||null===b?"":b})]})]})]})}),Object(N.jsx)("button",{onClick:function(t){e.data&&h({type:"all",value:e.data})},hidden:!e.data||"edit"!==p,className:"add-button ml-5 btn btn-dark",type:"reset",children:"Cancel"}),Object(N.jsx)("button",{type:"submit",className:"btn btn-outline-danger add-button submitButton",onClick:function(e){if("read"==p)return e.preventDefault(),void h({type:"edit"})},children:O})]})})]})};function xe(){return Object(N.jsx)("div",{className:"container",style:{marginTop:"40px"},children:Object(N.jsx)(Oe,{title:"Add Distributors"})})}var fe=function(){var e=Object(o.p)().id,t=(Object(o.k)(),Object(c.useReducer)((function(e,t){switch(t.type){case"UPDATE_PAGENO":return t.value<=e.noOfPages&&t.value>=1?Object(_.a)(Object(_.a)({},e),{},{pageNo:Number(t.value)-1}):Object(_.a)({},e);case"INCREMENT_PAGENO":return Object(_.a)(Object(_.a)({},e),{},{pageNo:++e.pageNo});case"DECREMENT_PAGENO":return Object(_.a)(Object(_.a)({},e),{},{pageNo:--e.pageNo});case"UPDATE_LIST":return Object(_.a)(Object(_.a)({},e),{},{list:t.value.list,noOfPages:t.value.noOfPages,name:t.value.name,details:t.value.details});case"TOGGLE_SHOW_DETAILS":return Object(_.a)(Object(_.a)({},e),{},{showDetails:!e.showDetails});default:return e}}),{pageNo:0,list:[],noOfPages:0,name:"",showDetails:!1})),a=Object(k.a)(t,2),n=a[0],s=n.pageNo,r=(n.list,n.noOfPages,n.name,n.showDetails,a[1]);Object(c.useEffect)((function(){var t=function(){var t=Object(l.a)(Object(i.a)().mark((function t(){var a,c;return Object(i.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("http://nodejs-example-express-rds.eba-wby9pu7m.ap-south-1.elasticbeanstalk.com/getAllDistributorsHistory?"+new URLSearchParams({pageNo:s,id:e}));case 2:return a=t.sent,t.next=5,a.json();case 5:c=t.sent,console.log(c.details),r({type:"UPDATE_LIST",value:{list:c.list,noOfPages:c.noOfPages,name:c.name,details:c.details}});case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();try{t()}catch(a){alert("unable to connet to server")}}),[s,r,e]);return Object(N.jsx)("div",{className:"container",style:{paddingBottom:"50px"},children:Object(N.jsx)("div",{style:{display:"block"}})})},ge=function(){var e=Object(l.a)(Object(i.a)().mark((function e(t){var a,c;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.params,console.log(a),e.next=4,fetch("http://nodejs-example-express-rds.eba-wby9pu7m.ap-south-1.elasticbeanstalk.com/getDistributorsDetails?"+new URLSearchParams({id:a.id}));case 4:return c=e.sent,e.abrupt("return",c);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();var ve=function(){var e=Object(l.a)(Object(i.a)().mark((function e(){var t;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://nodejs-example-express-rds.eba-wby9pu7m.ap-south-1.elasticbeanstalk.com/loginReact",{credentials:"include"});case 2:return t=e.sent,e.next=5,t.json();case 5:if(!e.sent.authenticated){e.next=10;break}return e.abrupt("return",Object(O.p)("/"));case 10:return e.abrupt("return",null);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ne=function(){var e=Object(l.a)(Object(i.a)().mark((function e(t){var a,c,n,s,r,l;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.request,t.params,e.next=3,a.formData();case 3:return c=e.sent,n={password:c.get("password"),email:c.get("email")},e.next=7,fetch("http://nodejs-example-express-rds.eba-wby9pu7m.ap-south-1.elasticbeanstalk.com/loginReact",{method:a.method,headers:{"Content-Type":"application/json"},body:JSON.stringify(n),credentials:"include"});case 7:return s=e.sent,e.next=10,s.json();case 10:if(!(r=e.sent).success){e.next=19;break}return localStorage.setItem("token",r.token),(l=new Date).setHours(l.getHours()+24),localStorage.setItem("expiration",l.toISOString()),e.abrupt("return",Object(O.p)("/"));case 19:return alert(r.msg),e.abrupt("return",r);case 21:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ye=function(){return Object(N.jsx)("div",{className:"d-flex",id:"wrapper",children:Object(N.jsx)("div",{className:"container",children:Object(N.jsx)("div",{className:"login-form",children:Object(N.jsxs)(d.a,{className:"form-signin",method:"post",children:[Object(N.jsx)("h2",{className:"form-signin-heading",children:"Wellcome Back!"}),Object(N.jsxs)("div",{className:"form-group",children:[Object(N.jsx)("label",{htmlFor:"exampleInputEmail1",children:"Email address"}),Object(N.jsx)("input",{type:"email",name:"email",className:"form-control",id:"exampleInputEmail1","aria-describedby":"emailHelp",autoFocus:!0}),Object(N.jsx)("small",{id:"emailHelp",className:"form-text text-muted",children:"We'll never share your email with anyone else."})]}),Object(N.jsxs)("div",{className:"form-group",children:[Object(N.jsx)("label",{htmlFor:"exampleInputPassword1",children:"Password"}),Object(N.jsx)("input",{type:"password",name:"password",className:"form-control",id:"exampleInputPassword1"})]}),Object(N.jsx)("button",{className:"btn btn-lg btn-danger btn-block",type:"submit",children:"Sign in"}),Object(N.jsx)("br",{})]})})})})};var _e=function(){var e=Object(l.a)(Object(i.a)().mark((function e(t){var a,c,n,s,r;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.request,t.params,console.log("singingUp"),e.next=4,a.formData();case 4:return c=e.sent,n={name:c.get("name"),pwd:c.get("pwd"),email:c.get("email"),position:c.get("position")},console.log(n),console.log(a.method),e.next=10,fetch("http://nodejs-example-express-rds.eba-wby9pu7m.ap-south-1.elasticbeanstalk.com/signUpReact",{method:a.method,headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});case 10:return s=e.sent,e.next=13,s.json();case 13:if(r=e.sent,console.log(r),!r.success){e.next=19;break}return e.abrupt("return",Object(O.p)("/loginApp"));case 19:return alert("Email already already present!"),e.abrupt("return",r);case 21:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),we=function(){return Object(N.jsx)("div",{className:"d-flex",id:"wrapper",children:Object(N.jsx)("div",{className:"container",children:Object(N.jsx)("div",{className:"login-form",children:Object(N.jsxs)(d.a,{className:"form-signin",method:"post",children:[Object(N.jsx)("h2",{className:"form-signin-heading",children:"Wellcome To Royal Plywood"}),Object(N.jsxs)("div",{className:"form-group",children:[Object(N.jsx)("label",{htmlFor:"name",children:"Name"}),Object(N.jsx)("input",{type:"text",className:"form-control",id:"name",name:"name"})]}),Object(N.jsxs)("div",{className:"form-group",children:[Object(N.jsx)("label",{htmlFor:"exampleInputEmail1",children:"Email address"}),Object(N.jsx)("input",{type:"email",className:"form-control",id:"exampleInputEmail1",name:"email","aria-describedby":"emailHelp"})]}),Object(N.jsxs)("div",{className:"form-group",children:[Object(N.jsx)("label",{htmlFor:"exampleInputPassword1",children:"Password"}),Object(N.jsx)("input",{type:"password",name:"pwd",className:"form-control",id:"exampleInputPassword1"})]}),Object(N.jsxs)("div",{className:"form-group",children:[Object(N.jsx)("label",{htmlFor:"position",children:"Select Position"}),Object(N.jsxs)("select",{name:"position",className:"form-control",id:"position",children:[Object(N.jsx)("option",{value:"sales",children:"Sales"}),Object(N.jsx)("option",{value:"manager",children:"Manager"})]})]}),Object(N.jsx)("button",{className:"btn btn-lg btn-primary btn-block",type:"submit",children:"Sign in"}),Object(N.jsx)("br",{}),Object(N.jsxs)("p",{children:["Already a member? ",Object(N.jsx)(d.b,{to:"/loginApp",children:"Login"}),", it's free."]})]})})})})};var ke=function(e){var t=401===e.status?"/loginApp":"/",a=401===e.status?"Login":"Home";return Object(N.jsx)("section",{className:"page_404",children:Object(N.jsx)("div",{className:"container",children:Object(N.jsx)("div",{className:"row",children:Object(N.jsx)("div",{className:"col-sm-12 ",children:Object(N.jsxs)("div",{className:"col-sm-10 col-sm-offset-1  text-center",children:[Object(N.jsx)("div",{className:"four_zero_four_bg",children:Object(N.jsx)("h1",{className:"text-center ",children:e.status})}),Object(N.jsxs)("div",{className:"contant_box_404",children:[Object(N.jsx)("h3",{className:"h2",children:e.header}),Object(N.jsx)("p",{children:e.msg}),Object(N.jsx)(d.b,{to:t,className:"link_404",children:a})]})]})})})})})};function Se(){var e=Object(o.r)(),t="An error occured!",a="Something went wrong!",c="404";return e.header?(t=e.header,a=e.msg,c=e.msg):e.status?(c=e.status,t=e.statusText,a=""):(c="404",t="Page Not Found!"),Object(N.jsx)(ke,{header:t,msg:a,status:c})}function Ce(){return localStorage.removeItem("token"),localStorage.removeItem("expiration"),Object(O.p)("/loginApp")}var Pe=function(){var e=Object(l.a)(Object(i.a)().mark((function e(t){var a,c,n,s;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.params,c=t.request,n="http://nodejs-example-express-rds.eba-wby9pu7m.ap-south-1.elasticbeanstalk.com/productPage/"+a.cat,null!=c.url.split("?")[1]&&(n+="?"+c.url.split("?")[1]),e.next=5,fetch(n).then((function(e){return e.json()})).catch((function(e){throw{msg:"asdfs"}}));case 5:return s=e.sent,e.abrupt("return",s);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),De=function(){var e=Object(l.a)(Object(i.a)().mark((function e(t){var a;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.request,t.params,e.next=3,a.formData();case 3:e.sent,Object(O.p)("/");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Le=function(){var e=Object(o.k)(),t=e.product_list,a=e.fields,c=e.catagory,n=e.brands,s=e.query,r=Object(o.n)(),d=(Object(o.p)().cat,s);s=(s=(s=(s=(s=JSON.stringify(s).replace(/"/g,"")).replace(/,/g,",  ")).replace(/:/g,":  ")).replace(/{/g,"")).replace(/}/g,""),c=(c=c.replace(/_/g," ")).replace(/\w\S*/g,(function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()}));var u=function(){var e=Object(l.a)(Object(i.a)().mark((function e(t){var a,c;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="http://nodejs-example-express-rds.eba-wby9pu7m.ap-south-1.elasticbeanstalk.com/addProductIntoCart/"+t,e.next=3,fetch(a).then((function(e){return e.json()})).catch((function(e){alert(e)}));case 3:c=e.sent,alert("Product Added Total Quantity: "+c[0][0].quantity);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),b=function(e,t){d[e]=t};return Object(N.jsxs)("div",{className:"container-fluid",children:[Object(N.jsx)("div",{className:"mx-auto product-head",children:Object(N.jsx)("span",{children:c})}),Object(N.jsxs)("form",{method:"GET",onSubmit:function(e){e.preventDefault();for(var t="?",a=0,c=Object.entries(d);a<c.length;a++){var n=Object(k.a)(c[a],2);t+=n[0]+"="+n[1]+"&"}t=t.slice(0,-1),r(t)},children:[Object(N.jsxs)("div",{className:"row",children:[Object(N.jsxs)("div",{className:"product-form-input input-group input-group-sm col-sm-6 col-lg-4 col-xs-12",children:[Object(N.jsx)("div",{className:"",children:Object(N.jsx)("label",{className:"mr-3",htmlFor:"inputGroupSelect01",children:"Brand"})}),Object(N.jsxs)("select",{className:"custom-select",id:"inputGroupSelect01",name:"brand_name",onChange:function(e){b("brand_name",e.target.value)},children:[Object(N.jsx)("option",{children:"Choose..."}),n.map((function(e){return Object(N.jsx)("option",{value:e.brand_name,children:e.brand_name},e.brand_name)}))]})]}),a.map((function(e){if("specs_id"!=e.Field){null===e.Field&&(d[e.Field]="Choose...");var t=e.Field.replace(/_/g," ");return t=t.replace(/\w\S*/g,(function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()})),Object(N.jsxs)("div",{className:"product-form-input input-group input-group-sm col-sm-6 col-lg-4 col-xs-12",children:[Object(N.jsx)("div",{className:"",children:Object(N.jsx)("label",{className:"mr-3",htmlFor:"inputGroupSelect".concat(e.Field),children:t})}),Object(N.jsxs)("select",{className:"custom-select ",defaultValue:s[e.Field],id:"inputGroupSelect".concat(e.Field),name:e.Field,onChange:function(t){b(e.Field,t.target.value)},children:[Object(N.jsx)("option",{value:"Choose...",children:"Choose..."}),e.item.map((function(t){return Object(N.jsxs)("option",{value:t[e.Field],children:[" ",t[e.Field]]},t[e.Field])}))]})]},e.Field)}}))]}),Object(N.jsx)("button",{className:"btn btn-outline-dark product-form-btn",type:"submit",children:"Apply"}),Object(N.jsx)("br",{})]}),Object(N.jsx)("hr",{style:{margin:"10px"}}),Object(N.jsx)("h5",{children:s}),Object(N.jsx)("div",{className:"row",children:t.map((function(e){var t=e.brand_name.replace(/_/g," ");return t=t.replace(/\w\S*/g,(function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()})),Object(N.jsx)("div",{className:"col-xl-2 col-lg-3 col-md-4 col-sm-6 col-12 text-center",children:Object(N.jsx)("div",{className:"",children:Object(N.jsxs)("div",{children:[Object(N.jsx)("div",{className:"image",children:Object(N.jsx)("img",{src:"https://drive.google.com/thumbnail?id=1WWHR6yC325fux1Lck1pqBCoyLcbzp9-M",alt:"IMG",className:"img-thumbnail"})}),Object(N.jsxs)("div",{children:[Object(N.jsx)("p",{id:"description",className:"",children:e.product_name}),Object(N.jsxs)("p",{className:"price-para",children:[Object(N.jsx)("span",{className:"price-label",children:"Rate "}),Object(N.jsxs)("span",{className:"price",children:["\u20b9",e.mrp]}),Object(N.jsxs)("span",{className:"price-label",children:[" per ",e.unit," "]}),Object(N.jsx)("br",{}),Object(N.jsx)("span",{className:"price-label",children:"MRP. "}),Object(N.jsxs)("span",{className:"price",children:["\u20b9",e.per_peice_quantity*e.mrp," "]})]}),Object(N.jsx)("div",{className:"add-to-cart-btn",children:Object(N.jsx)("button",{className:"btn btn-secondary btn-block btn-sm product-add-button",onClick:function(t){u(e.product_id)},id:e.product_id,children:"Add to cart"})}),Object(N.jsx)("p",{children:Object(N.jsxs)("span",{className:"stock-label",children:["In Stock ",e.stock]})})]})]})})},e.product_id)}))})]})};var Ee=function(e){var t=Object(o.n)(),a=Object(c.useState)(1),n=Object(k.a)(a,2),s=n[0],r=n[1];return Object(N.jsx)("div",{id:"page-content-wrapper",children:Object(N.jsxs)("div",{className:"container-fluid",children:[Object(N.jsxs)("div",{className:"card",children:[Object(N.jsxs)("div",{className:"card-header",children:[Object(N.jsxs)("div",{className:V.a.cardHeader,children:[Object(N.jsx)("div",{children:Object(N.jsx)("div",{children:Object(N.jsx)("p",{className:"display-4 card-heading",children:e.title})})}),Object(N.jsx)("div",{children:e.headerItems&&e.headerItems})]}),e.filterItems&&Object(N.jsx)("div",{style:{marginTop:"15px"},children:e.filterItems&&e.filterItems})]}),Object(N.jsxs)("table",{className:"table table-striped table-hover",children:[Object(N.jsx)("thead",{className:"thead-dark",children:Object(N.jsx)("tr",{children:e.thData.map((function(e,t){return Object(N.jsx)("th",{scope:"col",children:e},t)}))})}),Object(N.jsx)("tbody",{children:e.trData.map((function(a,c){return Object(N.jsx)("tr",{onClick:function(c){!function(a,c){e.rowURL&&(null!=a.id&&null==a.hide_url?t(e.rowURL+a.id):null!=a.hide_url&&t(e.rowURL+a.hide_url))}(a)},children:Object.entries(a).map((function(e,t){return"hide"!==e[0].split("_")[0]?0===t?Object(N.jsx)("th",{scope:"row",children:e[1]},"".concat(e[0]).concat(c).concat(e[1])):Object(N.jsx)("td",{children:e[1]},"".concat(e[0]).concat(c).concat(e[1])):Object(N.jsx)(N.Fragment,{})}))},c)}))})]})]}),Object(N.jsxs)("div",{className:"card-footer d-flex justify-content-between align-items-center",children:[Object(N.jsxs)("div",{className:"form-inline",children:[Object(N.jsx)("button",{className:"btn btn-outline-dark font-weight-bold ",disabled:0===e.pageNo,onClick:function(t){e.setPageNo(+e.pageNo-1)},children:"Prev"}),Object(N.jsxs)("span",{style:{margin:"20px"},children:["Showing ",Number(e.pageNo)+1," of ",e.noOfPages]}),Object(N.jsx)("button",{className:"btn btn-outline-dark font-weight-bold ",disabled:!(e.pageNo<e.noOfPages-1),onClick:function(){e.setPageNo(+e.pageNo+1)},children:"Next"}),Object(N.jsx)("label",{style:{marginLeft:"50px"},htmlFor:"",children:"Goto:"}),Object(N.jsx)("input",{className:"form-control mb-2 mr-sm-2",style:{margin:"10px",maxWidth:"70px"},type:"number",min:"1",value:s,onKeyDown:function(t){s>=1&&s<=e.noOfPages?13===t.keyCode&&e.setPageNo(s-1):alert("Page Number Not Valid")},onChange:function(e){r(e.target.value)}}),Object(N.jsx)("button",{className:"btn btn-outline-dark font-weight-bold",onClick:function(t){s>=1&&s<=e.noOfPages?e.setPageNo(s-1):alert("Page Number Not Valid")},children:"Go"})]}),Object(N.jsx)("div",{children:e.footerAction&&e.footerAction})]})]})})};var Fe=function(){var e=Object(c.useState)(0),t=Object(k.a)(e,2),a=t[0],n=t[1],s=Object(c.useState)(0),r=Object(k.a)(s,2),o=r[0],d=r[1],u=Object(c.useState)([]),b=Object(k.a)(u,2),j=b[0],p=b[1];return Object(c.useEffect)(Object(l.a)(Object(i.a)().mark((function e(){var t;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://nodejs-example-express-rds.eba-wby9pu7m.ap-south-1.elasticbeanstalk.com/getPurchaseList?"+new URLSearchParams({pageNo:a}));case 2:return t=e.sent,e.next=5,t.json();case 5:t=e.sent,p(t.purchaseList),d(t.noOfPages);case 8:case"end":return e.stop()}}),e)}))),[a]),Object(N.jsx)("div",{className:"container",children:Object(N.jsx)(Ee,{title:"Purchased Account",rowURL:"/purchase/",thData:["ID","Date","Distributors","Total Amount","Paid"],trData:j,pageNo:a,setPageNo:n,noOfPages:o})})},Ae=a(50),Te=a.n(Ae),Ie=a(85),Re=a.n(Ie),qe=a(51),Ue=a.n(qe);var Be=function(){var e=Object(c.useState)(null),t=Object(k.a)(e,2),a=t[0],n=t[1],s=Object(c.useState)(1),r=Object(k.a)(s,2),d=r[0],u=r[1],b=Object(c.useState)(1),j=Object(k.a)(b,2),p=j[0],m=j[1],h=Object(c.useState)("book"),O=Object(k.a)(h,2),x=O[0],f=O[1],g=Object(c.useState)(),v=Object(k.a)(g,2),y=v[0],_=v[1],w=Object(c.useRef)(),S=Object(o.k)();console.log(S),Object(c.useEffect)((function(){C()}),[]);var C=function(){var e=function(){var e=Object(l.a)(Object(i.a)().mark((function e(){var t;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=new B.b("p","mm",[297,210]),"packet"!==x){e.next=7;break}return e.next=4,L(t);case 4:t=e.sent,e.next=10;break;case 7:return e.next=9,P(t);case 9:t=e.sent;case 10:_(t),n(t.output("datauristring"));case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();try{e()}catch(t){alert("unable to load data")}};function P(e){return D.apply(this,arguments)}function D(){return D=Object(l.a)(Object(i.a)().mark((function e(t){var a,c;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Te()(w.current,S.id,{format:"CODE128",displayValue:!1}),a=new Image,c=w.current.toDataURL("image/png"),a.src="/assets/brown-color-wooden-sheets-408.jpg",t.addImage(a,"PNG",10,10,40,40),t.addImage(c,"PNG",62,9,70,12),t.setFont("helvetica","bold"),t.setFontSize(12),t.text(S.name,65,25),t.setFont("helvetica","normal"),t.text((null===S.alias1?"":S.alias1)+S.property1+", "+(null===S.alias2?"":S.alias2)+S.property2+", "+(null===S.alias3?"":S.alias3)+S.property3,65,30),t.text("Quantity per pc: "+S.per_peice_quantity,65,35),t.text("Rate: "+S.mrp+" per "+S.unit,65,40),t.text("MRP: Rs. "+ +S.mrp*+S.per_peice_quantity,65,45),t.text("Stock:",65,50),e.abrupt("return",t);case 16:case"end":return e.stop()}}),e)}))),D.apply(this,arguments)}function L(e){return E.apply(this,arguments)}function E(){return E=Object(l.a)(Object(i.a)().mark((function e(t){var a,c,n,s,r;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=0,c=0,n=0;case 3:if(!(a<d)){e.next=20;break}return e.next=6,Ue.a.toDataURL(S.id+"#12#121");case 6:s=e.sent,t.setFont("helvetica"),t.setFontSize(10),t.addImage(s,"PNG",70*c,29.7*n+8,22,22),t.text(70*c+3,29.7*n+5,S.name,{maxWidth:63}),t.text(70*c+22,29.7*n+4+10,"Date: ".concat(S.mfd)),t.text(70*c+22,29.7*n+4+14,"Qty: "+p+" pc"),t.text(70*c+22,29.7*n+4+18,(null===S.alias1?"":S.alias1)+S.property1),t.text(70*c+22,29.7*n+4+22,(null===S.alias2?"":S.alias2)+S.property2),a++,++c>2&&(n++,c=0),e.next=3;break;case 20:for(t.line(70,0,70,297),t.line(140,0,140,297),r=1;r<=10;r++)t.line(0,29.7*r,210,29.7*r);return e.abrupt("return",t);case 24:case"end":return e.stop()}}),e)}))),E.apply(this,arguments)}return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsxs)("div",{className:Re.a.parent,children:[Object(N.jsx)("iframe",{src:a,title:"bill",name:"billpdf",id:"billpdf"}),Object(N.jsxs)("div",{className:"ml-5",children:[Object(N.jsx)("h5",{children:"Label for : "}),Object(N.jsxs)("div",{className:"form-check",children:[Object(N.jsx)("input",{className:"form-check-input",type:"radio",name:"exampleRadios",id:"exampleRadios1",value:"book",onChange:function(e){return f(e.target.value)},checked:"book"===x}),Object(N.jsx)("label",{className:"form-check-label",htmlFor:"exampleRadios1",children:"Stock Book"})]}),Object(N.jsxs)("div",{className:"form-check",children:[Object(N.jsx)("input",{className:"form-check-input",type:"radio",name:"exampleRadios",id:"exampleRadios2",value:"packet",checked:"packet"===x,onChange:function(e){return f(e.target.value)}}),Object(N.jsx)("label",{className:"form-check-label mb-3",htmlFor:"exampleRadios2",children:"Packet"})]}),"packet"===x&&Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)("label",{htmlFor:"numOfLabel",children:Object(N.jsx)("h5",{children:"Number of labels : "})}),Object(N.jsx)("input",{className:"form-control mb-3",type:"number",onChange:function(e){u(e.target.value)},value:d,id:"numOfLabel"}),Object(N.jsx)("label",{htmlFor:"quantityPerEachLabel",children:Object(N.jsx)("h5",{children:"Quantity Per Each Label : "})}),Object(N.jsx)("input",{className:"form-control mb-5",type:"number",onChange:function(e){m(e.target.value)},value:p,id:"quantityPerEachLabel"})]}),Object(N.jsx)("button",{type:"button",onClick:C,className:"btn btn-secondary btn-lg btn-block",children:"Update"}),Object(N.jsx)("button",{type:"button",onClick:function(){y.autoPrint(),n(y.output("datauristring"))},className:"btn btn-danger btn-lg btn-block",children:"Print"})]})]}),Object(N.jsx)("canvas",{ref:w,style:{display:"none"}})]})},Me=function(){var e=Object(l.a)(Object(i.a)().mark((function e(t){var a,c;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.request,a=t.params,e.next=3,fetch("http://nodejs-example-express-rds.eba-wby9pu7m.ap-south-1.elasticbeanstalk.com/getLabelDetails/"+a.id);case 3:return c=e.sent,e.abrupt("return",c);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();var ze=function(){var e=Object(c.useState)([]),t=Object(k.a)(e,2),a=t[0],n=t[1];return Object(c.useEffect)(Object(l.a)(Object(i.a)().mark((function e(){var t,a;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"http://nodejs-example-express-rds.eba-wby9pu7m.ap-south-1.elasticbeanstalk.com/showTables",e.next=3,fetch("http://nodejs-example-express-rds.eba-wby9pu7m.ap-south-1.elasticbeanstalk.com/showTables");case 3:return t=e.sent,e.next=6,t.json();case 6:a=e.sent,console.log(a),n(a.tableList);case 9:case"end":return e.stop()}}),e)}))),[]),Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)("div",{children:"ShowTable"}),Object(N.jsxs)("select",{class:"custom-select custom-select-sm",children:[Object(N.jsx)("option",{selected:!0,children:"Open this select menu"}),a.map((function(e){return Object(N.jsx)("option",{value:e.Tables_in_released_royal_shop,children:e.Tables_in_released_royal_shop})}))]})]})};var Ge=function(){var e=Object(o.k)(),t=e.category,a=e.category_specs;return Object(N.jsxs)("div",{className:"container-sm mt-5",style:{maxWidth:"700px"},children:[Object(N.jsxs)("h2",{className:"add-heading bg-primary  pl-1",style:{textTransform:"capitalize"},children:["Set Label for ",t.name]}),Object(N.jsxs)(d.a,{method:"put",children:[Object(w.a)(Array(3).keys()).map((function(e){return e+=1,Object(N.jsxs)("div",{className:"form-row",children:[Object(N.jsxs)("div",{className:"col-md form-group",children:[Object(N.jsxs)("label",{htmlFor:"labelFeature".concat(e),children:["Label Feature ",e,":"]}),Object(N.jsxs)("select",{className:"custom-select",id:"labelFeature".concat(e),name:"labelFeature".concat(e),defaultValue:t["label_feature_"+e],children:[Object(N.jsx)("option",{value:null,children:"None"}),a.map((function(e,t){if("specs_id"!=e.Field)return Object(N.jsx)("option",{value:e.Field,children:e.Field},e.Field)}))]})]}),Object(N.jsxs)("div",{className:"col-md form-group",children:[Object(N.jsx)("label",{htmlFor:"printAs"+e,children:"Printed as"}),Object(N.jsx)("input",{type:"text",name:"printAs"+e,id:"printAs"+e,className:"form-control",defaultValue:t["label_feature_alias_"+e]})]})]})})),Object(N.jsx)("button",{className:"btn btn-danger mt-3 mb-5",type:"submit",children:"Submit"})]})]})},He=function(){var e=Object(l.a)(Object(i.a)().mark((function e(t){var a,c;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.request,a=t.params,e.next=3,fetch("http://nodejs-example-express-rds.eba-wby9pu7m.ap-south-1.elasticbeanstalk.com/editCatagory/"+a.name);case 3:return c=e.sent,e.abrupt("return",c);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ve=function(){var e=Object(l.a)(Object(i.a)().mark((function e(t){var a,c,n,s,r,l;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.request,c=t.params,e.next=3,a.formData();case 3:return n=e.sent,s={label_feature_1:n.get("labelFeature1"),label_feature_2:n.get("labelFeature2"),label_feature_3:n.get("labelFeature3"),label_feature_alias_1:n.get("printAs1"),label_feature_alias_2:n.get("printAs2"),label_feature_alias_3:n.get("printAs3")},e.next=7,fetch("http://nodejs-example-express-rds.eba-wby9pu7m.ap-south-1.elasticbeanstalk.com/editCatagory/"+c.name+"/editLabel",{method:a.method,headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});case 7:return r=e.sent,e.next=10,r.json();case 10:if(!(l=e.sent).done){e.next=16;break}return alert("Updated..."),e.abrupt("return",null);case 16:return alert(l.msg),e.abrupt("return",null);case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function We(){var e=Object(c.useState)([]),t=Object(k.a)(e,2),a=t[0],n=t[1],s=Object(c.useState)(!1),r=Object(k.a)(s,2),d=r[0],u=r[1],b=Object(c.useState)("Stock Book Print"),j=Object(k.a)(b,2),p=j[0],m=j[1],h=Object(c.useState)([]),O=Object(k.a)(h,2),x=O[0],f=O[1],g=Object(o.l)(),v=Object(c.useRef)(),y=g.state,_=y.cat,S=y.brand,C=y.stock,P=y.active;Object(c.useEffect)(Object(l.a)(Object(i.a)().mark((function e(){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:fetch("http://nodejs-example-express-rds.eba-wby9pu7m.ap-south-1.elasticbeanstalk.com/getProductListForStockBook?"+new URLSearchParams({cat:_,brand:S,stock:C,active:P})).then((function(e){return e.json()})).then((function(e){n(e.list),f(e.catDtls[0])}));case 1:case"end":return e.stop()}}),e)}))),[_,S,C,P]);var D=function(e){var t=e.target.id,c=Object(w.a)(a);if(console.log(a),0!=t){var s=c[t];c[t]=c[t-1],c[t-1]=s}m(p+" "),n(c)},L=function(e){var t=e.target.id,c=Object(w.a)(a);if(t!=a.length-1){var s=a[t];c[t]=c[+t+1],c[+t+1]=s}m(p+" "),n(c)};return Object(N.jsxs)("div",{className:"d-flex pb-5",id:"wrapper",children:[Object(N.jsxs)("div",{className:"container card pt-2 mt-5",children:[Object(N.jsxs)("div",{className:"card-header",children:[Object(N.jsxs)("h1",{className:"display-4 text-capitalize",style:{fontSize:"32px",float:"left"},children:[p," ",_]}),Object(N.jsx)("button",{className:"btn btn-dark float-right",disabled:d,onClick:function(){m(p+" "),u(!0),m(p+" ");var e=new B.a("p","mm",[297,210]),t=0;a.forEach((function(c,n){Te()(v.current,c.product_id,{format:"CODE128",displayValue:!1});var s=new Image,r=v.current.toDataURL("image/png");s.src="/assets/brown-color-wooden-sheets-408.jpg";var i=58*t;e.addImage(s,"PNG",10,10+i,40,40),e.addImage(r,"PNG",62,9+i,70,12),e.setFont("helvetica","bold"),e.setFontSize(12),e.text(c.product_name,65,25+i),e.setFont("helvetica","normal");var l=null===x.label_feature_alias_1?"":x.label_feature_alias_1+c[x.label_feature_1];e.text(l,65,30+i),e.text("Quantity per pc: "+c.per_peice_quantity,65,35+i),e.text("Rate: "+c.mrp+" per "+c.unit,65,40+i),e.text("MRP: Rs. "+ +c.mrp*+c.per_peice_quantity,65,45+i),e.text("Stock:",65,50+i),++t>=5&&(e.addPage(),t=0),n+1==a.length&&console.log(d)})),e.output("save",_+"_book.pdf"),m(p+" "),u(!1),m(p+" "),m(p+" ")},children:"Print"})]}),Object(N.jsxs)("table",{className:"table",children:[Object(N.jsx)("thead",{className:"thead-dark",children:Object(N.jsxs)("tr",{children:[Object(N.jsx)("th",{scope:"col",children:"#"}),Object(N.jsx)("th",{scope:"col"}),Object(N.jsx)("th",{scope:"col"}),Object(N.jsx)("th",{scope:"col",children:"Name"}),Object(N.jsx)("th",{scope:"col",children:"Brand"}),Object(N.jsx)("th",{scope:"col",children:"Rate"}),Object(N.jsx)("th",{scope:"col",children:x.label_feature_alias_1}),Object(N.jsx)("th",{scope:"col",children:x.label_feature_alias_2}),Object(N.jsx)("th",{scope:"col",children:x.label_feature_alias_3})]})}),Object(N.jsx)("tbody",{children:a.map((function(e,t){return Object(N.jsxs)("tr",{children:[Object(N.jsx)("th",{children:t}),Object(N.jsx)("td",{children:Object(N.jsx)("button",{className:"btn btn-sm btn-dark",disabled:0==t,id:t,onClick:D,children:"UP"})}),Object(N.jsx)("td",{children:Object(N.jsx)("button",{className:"btn btn-sm btn-dark",disabled:t==a.length-1,id:t,onClick:L,children:"DN"})}),Object(N.jsx)("td",{children:e.product_name}),Object(N.jsx)("td",{children:e.brand_name}),Object(N.jsx)("td",{children:e.mrp}),Object(N.jsx)("td",{children:e[x.label_feature_1]}),Object(N.jsx)("td",{children:e[x.label_feature_2]}),Object(N.jsx)("td",{children:e[x.label_feature_3]})]},t)}))})]})]}),Object(N.jsx)("canvas",{ref:v,style:{display:"none"}})]})}function Qe(){var e=Object(o.p)().id,t=Object(c.useState)(Object(N.jsx)(N.Fragment,{})),a=Object(k.a)(t,2),n=a[0],s=a[1],r=Object(c.useState)([]),d=Object(k.a)(r,2),u=d[0],b=d[1],j=Object(o.n)();Object(c.useEffect)(Object(l.a)(Object(i.a)().mark((function t(){var a,c,n,r,l,o;return Object(i.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("http://nodejs-example-express-rds.eba-wby9pu7m.ap-south-1.elasticbeanstalk.com/getPurchaseDetails?"+new URLSearchParams({purchaseId:e}));case 2:return a=t.sent,t.next=5,a.json();case 5:a=t.sent,console.log(a),b(a.purchaseDetails[0]),c=a.purchaseDetails[2][0].subTotal,n=a.purchaseDetails[1][0].shipping,r=a.purchaseDetails[1][0].summery_discount,l=Math.round(a.purchaseDetails[2][0].subTotal*a.purchaseDetails[1][0].tax*.18),o=c+n-r+l,s(Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)("p",{className:"lead mb-0 ",children:a.purchaseDetails[1][0].name}),Object(N.jsxs)("span",{className:"",style:{fontSize:"1.2em"},children:["Purchase Total: ",Object(N.jsxs)("strong",{className:"text-danger text-monospace mr-4",children:["\u20b9",c]}),"Shipping: ",Object(N.jsxs)("strong",{className:"text-danger text-monospace mr-4",children:["\u20b9",n]}),"Discount: ",Object(N.jsxs)("strong",{className:"text-danger text-monospace mr-4",children:["\u20b9",r]}),"Tax: ",Object(N.jsxs)("strong",{className:"text-danger text-monospace mr-4",children:["\u20b9",l]}),"Total: ",Object(N.jsxs)("strong",{className:"text-danger text-monospace mr-4",children:["\u20b9",o]}),Object(N.jsx)("br",{}),"Previous Due: ",Object(N.jsxs)("strong",{className:"text-danger text-monospace mr-4",children:["\u20b9",a.purchaseDetails[1][0].previous_due]}),"Paid: ",Object(N.jsxs)("strong",{className:"text-danger text-monospace mr-4",children:["\u20b9",a.purchaseDetails[1][0].paid]}),"New Due: ",Object(N.jsxs)("strong",{className:"text-danger text-monospace mr-4",children:["\u20b9",a.purchaseDetails[1][0].new_due]}),"Due Date: ",Object(N.jsx)("strong",{className:" text-monospace mr-4",children:a.purchaseDetails[1][0].duedate.split("T")[0]})]})]}));case 14:case"end":return t.stop()}}),t)}))),[]);var p=Object(N.jsx)("button",{className:"btn btn-dark",onClick:function(){j("printLabel",{state:u})},children:"Configure Label"});return Object(N.jsx)("div",{className:"container",children:Object(N.jsx)(Ee,{title:"Purchase Details",headerItems:p,filterItems:n,thData:["Sl.","Name","Quantity","Rate","Disc.","Price","Amount"],trData:u,setPageNo:function(){},pageNo:0,noOfPages:1})})}var Je=function(){var e=Object(c.useState)([]),t=Object(k.a)(e,2),a=t[0],n=t[1],s=Object(c.useState)({}),i=Object(k.a)(s,2),l=i[0],o=i[1],u=Object(c.useState)(0),b=Object(k.a)(u,2),j=b[0],p=b[1],m=Object(c.useState)(0),h=Object(k.a)(m,2),O=h[0],x=h[1],f=Object(c.useState)(0),g=Object(k.a)(f,2),v=g[0],y=g[1],_=Object(r.c)((function(e){return e.cart.cartNo})),w=Object(c.useState)([]),S=Object(k.a)(w,2),P=S[0],D=S[1],L=Object(c.useState)([]),E=Object(k.a)(L,2),F=E[0],A=E[1];return Object(c.useEffect)((function(){var e="http://nodejs-example-express-rds.eba-wby9pu7m.ap-south-1.elasticbeanstalk.com/checkOutPurchase?"+new URLSearchParams({cartNo:_});C.a.get(e).then((function(e){console.log(e.data),n(e.data.cart),o(e.data.summery),D(e.data.distributors),A(e.data.officers);var t=0;e.data.cart.forEach((function(e){t+=+((e.mrp-e.discount)*e.quantity*e.per_peice_quantity).toFixed(2)}));var a=0;e.data.summery.tax&&(a=+(.18*t).toFixed(2));var c=a+t+e.data.summery.shipping-e.data.summery.discount;p(t),x(a),y(c)})).catch((function(e){alert(e)}))}),[_]),Object(N.jsxs)("div",{className:"container",children:[Object(N.jsx)(q,{cart:a,cartNo:_,subtotal:j,tax:O,summery:l,total:v}),Object(N.jsx)("hr",{}),Object(N.jsxs)(d.a,{method:"post",className:"needs-validation pb-5",children:[Object(N.jsxs)("div",{className:"form-group row",children:[Object(N.jsx)("label",{htmlFor:"bill_no",className:"col-sm-2 col-form-label",children:"Enter The Bill No.:"}),Object(N.jsx)("div",{className:"col-sm-10",children:Object(N.jsx)("input",{type:"text",className:"form-control",id:"bill_no",defaultValue:"",name:"bill_no",required:!0})})]}),Object(N.jsxs)("div",{className:"form-group row",children:[Object(N.jsx)("label",{className:"col-sm-2 col-form-label",htmlFor:"distributor",children:"Select a distributor:"}),Object(N.jsx)("div",{className:"col-sm-10",children:Object(N.jsx)("select",{className:"form-control",id:"distributor",name:"distributor",children:P.map((function(e){return Object(N.jsx)("option",{value:e.distributor_id,children:e.name},e.distributor_id)}))})})]}),Object(N.jsxs)("div",{className:"form-group row",children:[Object(N.jsx)("label",{className:"col-sm-2 col-form-label",htmlFor:"Officer",children:"Select a Officer:"}),Object(N.jsx)("div",{className:"col-sm-10",children:Object(N.jsx)("select",{className:"form-control",id:"Officer",name:"officer",children:F.map((function(e){return Object(N.jsx)("option",{id:e.officer_id,value:e.officer_id,children:e.officer_name})}))})})]}),Object(N.jsxs)("div",{className:"form-group row",children:[Object(N.jsx)("label",{htmlFor:"paid",className:"col-sm-2 col-form-label",children:"Payment Amount:"}),Object(N.jsx)("div",{className:"col-sm-10",children:Object(N.jsx)("input",{type:"number",className:"form-control",id:"paid",defaultValue:"",name:"paid",step:"any",required:!0})})]}),Object(N.jsxs)("div",{className:"form-group row",children:[Object(N.jsx)("label",{htmlFor:"d_ate",className:"col-sm-2 col-form-label",children:"Due Date:"}),Object(N.jsx)("div",{className:"col-sm-10",children:Object(N.jsx)("input",{type:"date",id:"d_ate",defaultValue:(new Date).toLocaleDateString("en-CA"),className:"form-control",name:"due_date",required:!0})})]}),Object(N.jsx)("input",{type:"hidden",name:"cart_no",defaultValue:_}),Object(N.jsx)("div",{className:"pb-5",children:Object(N.jsx)("button",{type:"submit",className:"btn btn-danger float-right mb-5",children:"Purchase"})})]})]})},Ze=function(){var e=Object(l.a)(Object(i.a)().mark((function e(t){var a,c,n,s,r;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.request,t.params,e.next=3,a.formData();case 3:return c=e.sent,n={bill_no:c.get("bill_no"),distributor:c.get("distributor"),officer:c.get("officer"),paid:c.get("paid"),due_date:c.get("due_date"),cart_no:c.get("cart_no")},console.log(n),e.next=8,fetch("http://nodejs-example-express-rds.eba-wby9pu7m.ap-south-1.elasticbeanstalk.com/checkOutPurchase",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});case 8:return s=e.sent,e.next=11,s.json();case 11:return r=e.sent,console.log(r),e.abrupt("return",null);case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();var Ke=function(){var e=Object(c.useState)([]),t=Object(k.a)(e,2),a=t[0],n=t[1],s=Object(c.useState)(!1),r=Object(k.a)(s,2),d=(r[0],r[1]),u=Object(c.useState)(""),b=Object(k.a)(u,2),j=b[0],p=b[1],m=Object(c.useRef)(),h=Object(o.p)().id;Object(c.useEffect)((function(){fetch("http://nodejs-example-express-rds.eba-wby9pu7m.ap-south-1.elasticbeanstalk.com/getPurchaseLabelDetails?"+new URLSearchParams({purchaseId:h})).then((function(e){return e.json()})).then((function(e){e.purchaseList.pop();var t=e.purchaseList.pop()[0].date;p(t.split("T")[0]),n(e.purchaseList)}))}),[]);var O=function(){var e=Object(l.a)(Object(i.a)().mark((function e(){var t,c,n,s,r,l,o,u,b,p;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=0,c=0,n=0,d(!0),(s=new B.a("p","mm",[297,210])).setFont("helvetica"),s.setFontSize(10),r=0;case 6:if(!(r<a.length)){e.next=29;break}l=a[r][0],o=1;case 9:if(!(o<=l.packets)){e.next=26;break}return e.next=12,Ue.a.toDataURL(l.id+"#"+(l.quantity/l.packets).toFixed(2));case 12:if(u=e.sent,s.addImage(u,"PNG",70*t,29.7*c+8,22,22),s.text(70*t+3,29.7*c+5,l.product_name,{maxWidth:63}),s.text(70*t+22,29.7*c+4+10,"Date: ".concat(j)),s.text(70*t+22,29.7*c+4+14,"Qty: "+(l.quantity/l.packets).toFixed(2)+" pc, MRP: "+l.actual_mrp*l.per_peice_quantity*+(l.quantity/l.packets).toFixed(2)),s.text(70*t+22,29.7*c+4+18,l.label_feature_alias_1+l[l.label_feature_1]?l.label_feature_alias_1+l[l.label_feature_1]:""),s.text(70*t+22,29.7*c+4+22,l.label_feature_alias_2+l[l.label_feature_2]?l.label_feature_alias_2+l[l.label_feature_2]:""),++t>2&&(c++,t=0),++n>=30){for(s.line(70,0,70,297),s.line(140,0,140,297),b=1;b<=10;b++)s.line(0,29.7*b,210,29.7*b);s.addPage(),n=0,c=0}case 23:o++,e.next=9;break;case 26:r++,e.next=6;break;case 29:for(s.line(70,0,70,297),s.line(140,0,140,297),p=1;p<=10;p++)s.line(0,29.7*p,210,29.7*p);s.output("save",h+".pdf"),d(!1);case 34:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(N.jsx)(N.Fragment,{children:Object(N.jsx)("div",{className:"d-flex pb-5",id:"wrapper",children:Object(N.jsxs)("div",{className:"container card pt-2 mt-5",children:[Object(N.jsxs)("div",{className:"card-header",children:[Object(N.jsx)("h1",{className:"display-4 text-capitalize",style:{fontSize:"32px",float:"left"},children:"Print Label for purchase"}),Object(N.jsx)("button",{className:"btn btn-dark float-right",onClick:O,children:"Print"})]}),Object(N.jsxs)("table",{className:"table",children:[Object(N.jsx)("thead",{className:"thead-dark",children:Object(N.jsxs)("tr",{children:[Object(N.jsx)("th",{scope:"col",children:"#"}),Object(N.jsx)("th",{scope:"col",children:"Packets"}),Object(N.jsx)("th",{scope:"col",children:"Name"}),Object(N.jsx)("th",{scope:"col",children:"Brand"}),Object(N.jsx)("th",{scope:"col",children:"Rate"}),Object(N.jsx)("th",{scope:"col",children:"Qty"}),Object(N.jsx)("th",{scope:"col",children:"feature 1"}),Object(N.jsx)("th",{scope:"col",children:"feature 2"})]})}),Object(N.jsx)("tbody",{children:a.map((function(e,t){return Object(N.jsxs)("tr",{children:[Object(N.jsx)("th",{children:t}),Object(N.jsx)("td",{children:Object(N.jsx)("input",{type:"number",style:{maxWidth:"4rem"},name:"",id:"",defaultValue:e[0].packets,onBlur:function(t){e[0].packets=t.target.value}})}),Object(N.jsx)("td",{children:e[0].product_name}),Object(N.jsx)("td",{children:e[0].brand_name}),Object(N.jsx)("td",{children:e[0].mrp}),Object(N.jsx)("td",{children:e[0].quantity}),Object(N.jsxs)("td",{children:[e[0].label_feature_alias_1,e[0][e[0].label_feature_1]]}),Object(N.jsxs)("td",{children:[e[0].label_feature_alias_2,e[0][e[0].label_feature_2]]})]},t)}))})]}),Object(N.jsx)("canvas",{ref:m,style:{display:"none"}})]})})})};var Ye=function(){var e=Object(d.c)([{path:"/",element:Object(N.jsx)(y,{}),errorElement:Object(N.jsx)(Se,{}),loader:g,children:[{index:!0,element:Object(N.jsx)(T,{})},{path:"/sellCheckout",element:Object(N.jsx)(U,{})},{path:"/salesList",element:Object(N.jsx)(Q,{})},{path:"/salesList/bill/:prints/:id",element:Object(N.jsx)(G,{})},{path:"/product/:cat/",loader:Pe,action:De,element:Object(N.jsx)(Le,{})},{path:"/clientList",element:Object(N.jsx)(J,{})},{path:"/clients/transaction/:id",loader:X,element:Object(N.jsx)(Y,{})},{path:"/clients/add-client",action:ne,element:Object(N.jsx)(ce,{})},{path:"/productItem",children:[{index:!0,element:Object(N.jsx)(te,{})},{path:"stockBookPrint",action:ae,element:Object(N.jsx)(We,{})},{path:"addProducts",action:ae,element:Object(N.jsx)(se,{})},{path:":id",children:[{index:!0,action:le,element:Object(N.jsx)(ie,{})},{path:"label",loader:Me,element:Object(N.jsx)(Be,{})}]}]},{path:"/productsCatagory",children:[{index:!0,loader:oe,element:Object(N.jsx)(de,{})},{path:"add",loader:oe,action:je,element:Object(N.jsx)(be,{})},{path:":name",children:[{index:!0,loader:me,element:Object(N.jsx)(pe,{})},{path:"labelEdit",action:Ve,loader:He,element:Object(N.jsx)(Ge,{})}]}]},{path:"/distributor",element:Object(N.jsx)(he,{})},{path:"/distributor/add",element:Object(N.jsx)(xe,{})},{path:"/distributor/transaction/:id",loader:ge,element:Object(N.jsx)(fe,{})},{path:"/purchase",element:Object(N.jsx)(Fe,{})},{path:"/purchaseCheckout",action:Ze,element:Object(N.jsx)(Je,{})},{path:"/purchase/:id",element:Object(N.jsx)(Qe,{})},{path:"/purchase/:id/printLabel",element:Object(N.jsx)(Ke,{})},{path:"/signUpApp",action:_e,element:Object(N.jsx)(we,{})},{path:"/showTable",element:Object(N.jsx)(ze,{})}]},{path:"/loginApp",loader:ve,action:Ne,element:Object(N.jsx)(ye,{})},{path:"logout",action:Ce}]);return Object(N.jsx)(N.Fragment,{children:Object(N.jsx)(o.c,{router:e})})},Xe=Object(u.a)({reducer:{cart:D,auth:j}});s.a.render(Object(N.jsx)(r.a,{store:Xe,children:Object(N.jsx)(Ye,{})}),document.getElementById("root"))},28:function(e,t,a){e.exports={cardHeader:"Table_cardHeader__24eXO"}},56:function(e,t,a){e.exports={filterItem:"Products_filterItem__214b2",selectedItem:"Products_selectedItem__3fnzZ"}},84:function(e,t,a){e.exports={parent:"bill_parent__1ziZD"}},85:function(e,t,a){e.exports={parent:"label_parent__2RxVa"}},98:function(e,t,a){}},[[177,1,2]]]);
//# sourceMappingURL=main.d1a07f40.chunk.js.map